<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="baidu-site-verification" content="L6Lm9d5Crl"/>
  
  
  
  
  <title>浏览器之DOM | To die or not to die, this is a question~</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="浏览器之DOM：  DOM—&amp;gt;Document Object ModelDOM定义了表示和修改文档所需的方法。DOM对象即为宿主对象，由浏览器厂商定义，用来操作html和xml功能的一类对象的集合。也有人称DOM是对HTML以及XML的标准编程接口。DOM不能操作CSS！！！DOM修改CSS的是通过改变HTML间接改变CSS的。改变不了CSS行间样式，改变的是HTML。 DOM之后一些成组">
<meta name="keywords" content="JavaScript">
<meta property="og:type" content="article">
<meta property="og:title" content="浏览器之DOM">
<meta property="og:url" content="http://indexcode.cn/2017/11/DOM.html">
<meta property="og:site_name" content="To die or not to die, this is a question~">
<meta property="og:description" content="浏览器之DOM：  DOM—&amp;gt;Document Object ModelDOM定义了表示和修改文档所需的方法。DOM对象即为宿主对象，由浏览器厂商定义，用来操作html和xml功能的一类对象的集合。也有人称DOM是对HTML以及XML的标准编程接口。DOM不能操作CSS！！！DOM修改CSS的是通过改变HTML间接改变CSS的。改变不了CSS行间样式，改变的是HTML。 DOM之后一些成组">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2017-12-20T09:38:26.184Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="浏览器之DOM">
<meta name="twitter:description" content="浏览器之DOM：  DOM—&amp;gt;Document Object ModelDOM定义了表示和修改文档所需的方法。DOM对象即为宿主对象，由浏览器厂商定义，用来操作html和xml功能的一类对象的集合。也有人称DOM是对HTML以及XML的标准编程接口。DOM不能操作CSS！！！DOM修改CSS的是通过改变HTML间接改变CSS的。改变不了CSS行间样式，改变的是HTML。 DOM之后一些成组">
  
    <link rel="alternative" href="/atom.xml" title="To die or not to die, this is a question~" type="application/atom+xml">
  
  
    <link rel="icon" href="/img/favicon.png">
  
  
  <link rel="stylesheet" href="//cdn.bootcss.com/animate.css/3.5.0/animate.min.css">
  
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  
  
      <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  
  <!-- 加载特效 -->
    <script src="/js/pace.js"></script>
    <link href="/css/pace/pace-theme-flash.css" rel="stylesheet" />
  <script>
      var yiliaConfig = {
          fancybox: true,
          animate: true,
          isHome: false,
          isPost: true,
          isArchive: false,
          isTag: false,
          isCategory: false,
          open_in_new: false
      }
  </script>
</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
        <a href="/" class="profilepic">
            
            <img lazy-src="/img/avatar.jpeg" class="js-avatar">
            
        </a>
        <hgroup>
          <h1 class="header-author"><a href="/">Dexinser</a></h1>
        </hgroup>
        
        <p class="header-subtitle">不想成为架构师的程序员不是一个好的程序员~</p>
        
        
            <form>
                <input type="text" class="st-default-search-input search" id="local-search-input" placeholder=" Search...">
            </form>
            <div id="local-search-result"></div>
        
        
            <script type="text/javascript">
                (function() {
                    'use strict';
                    function getMatchData(keyword, data) {
                        var matchData = [];
                        for(var i =0;i<data.length;i++){
                            if(data[i].title.toLowerCase().indexOf(keyword)>=0) 
                                matchData.push(data[i])
                        }
                        return matchData;
                    }
                    var $input = $('#local-search-input');
                    var $resultContent = $('#local-search-result');
                    $input.keyup(function(){
                        $.ajax({
                            url: '/search.json',
                            dataType: "json",
                            success: function( json ) {
                                var str='<ul class=\"search-result-list\">';                
                                var keyword = $input.val().trim().toLowerCase();
                                $resultContent.innerHTML = "";
                                if ($input.val().trim().length <= 0) {
                                    $resultContent.empty();
                                    $('#switch-area').show();
                                    return;
                                }
                                var results = getMatchData(keyword, json);
                                if(results.length === 0){
                                    $resultContent.empty();
                                    $('#switch-area').show();
                                    return;
                                } 
                                for(var i =0; i<results.length; i++){
                                    str += "<li><a href='"+ results[i].url +"' class='search-result-title'>"+ results[i].title +"</a></li>";
                                }
                                str += "</ul>";
                                $resultContent.empty();
                                $resultContent.append(str);
                                $('#switch-area').hide();
                            }
                        });
                    });
                })();
            </script>
        
        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        <li>友情链接</li>
                        
                        
                        <li>关于我</li>
                        
                    </ul>
                </div>
            </div>
        
        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a  href="/archives/">所有文章</a></li>
                        
                            <li><a  href="/categories/开发工具/">玩转开发工具</a></li>
                        
                            <li><a  href="/categories/资源分享/">资源分享</a></li>
                        
                            <li><a  href="/categories/学习笔记/">学习笔记</a></li>
                        
                            <li><a  href="/categories/基础方法分享/">基础方法分享</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fl github"  target="_blank" href="https://github.com/Dexinser" title="github">github</a>
                            
                                <a class="fl weibo"  target="_blank" href="http://weibo.com/5223005381/profile?topnav=1&wvr=6&is_all=1" title="weibo">weibo</a>
                            
                                <a class="fl rss"  target="_blank" href="/atom.xml" title="rss">rss</a>
                            
                        </ul>
                    </nav>
                </section>
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <a href="/tags/CSS/" style="font-size: 10px;">CSS</a> <a href="/tags/CSS3/" style="font-size: 17.5px;">CSS3</a> <a href="/tags/JavaScript/" style="font-size: 20px;">JavaScript</a> <a href="/tags/TV/" style="font-size: 10px;">TV</a> <a href="/tags/book/" style="font-size: 12.5px;">book</a> <a href="/tags/node/" style="font-size: 10px;">node</a> <a href="/tags/others/" style="font-size: 10px;">others</a> <a href="/tags/个人分享/" style="font-size: 15px;">个人分享</a> <a href="/tags/个人感悟/" style="font-size: 12.5px;">个人感悟</a> <a href="/tags/个人日记/" style="font-size: 12.5px;">个人日记</a> <a href="/tags/前端/" style="font-size: 10px;">前端</a> <a href="/tags/历史故事/" style="font-size: 10px;">历史故事</a> <a href="/tags/后端/" style="font-size: 10px;">后端</a> <a href="/tags/商业问题/" style="font-size: 10px;">商业问题</a> <a href="/tags/学习笔记/" style="font-size: 12.5px;">学习笔记</a> <a href="/tags/影视人生/" style="font-size: 12.5px;">影视人生</a> <a href="/tags/影评/" style="font-size: 10px;">影评</a> <a href="/tags/思维能力/" style="font-size: 10px;">思维能力</a> <a href="/tags/杂/" style="font-size: 10px;">杂</a> <a href="/tags/框架/" style="font-size: 10px;">框架</a> <a href="/tags/笔试/" style="font-size: 10px;">笔试</a> <a href="/tags/计算机基础/" style="font-size: 10px;">计算机基础</a> <a href="/tags/计算机系统/" style="font-size: 10px;">计算机系统</a> <a href="/tags/认知提升/" style="font-size: 17.5px;">认知提升</a> <a href="/tags/诗与远方/" style="font-size: 10px;">诗与远方</a> <a href="/tags/资源分享/" style="font-size: 10px;">资源分享</a>
                    </div>
                </section>
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://my.csdn.net/my/mycsdn">csdn</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="https://segmentfault.com/u/dexinser">segmentfault</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://www.jianshu.com/users/c1794d13eba9/timeline">简书</a>
                    
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">走在路上，看风景，品人生；世间美好如此之多，何必去想那些不开心的事儿呢~</div>
                </section>
                
            </div>
        </div>
    </header>
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页">Dexinser</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                
                    <img lazy-src="/img/avatar.jpeg" class="js-avatar">
                
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="回到主页">Dexinser</a></h1>
            </hgroup>
            
            <p class="header-subtitle">不想成为架构师的程序员不是一个好的程序员~</p>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/archives/">所有文章</a></li>
                
                    <li><a href="/categories/开发工具/">玩转开发工具</a></li>
                
                    <li><a href="/categories/资源分享/">资源分享</a></li>
                
                    <li><a href="/categories/学习笔记/">学习笔记</a></li>
                
                    <li><a href="/categories/基础方法分享/">基础方法分享</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                <div class="social">
                    
                        <a class="github" target="_blank" href="https://github.com/Dexinser" title="github">github</a>
                    
                        <a class="weibo" target="_blank" href="http://weibo.com/5223005381/profile?topnav=1&wvr=6&is_all=1" title="weibo">weibo</a>
                    
                        <a class="rss" target="_blank" href="/atom.xml" title="rss">rss</a>
                    
                </div>
            </nav>
        </header>                
    </div>
</nav>
      <div class="body-wrap"><article id="post-2017/11/DOM" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2017/11/DOM.html" class="article-date">
      <time datetime="2017-11-09T10:31:49.835Z" itemprop="datePublished">2017-11-09</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      浏览器之DOM
    </h1>
  


      </header>
      
      <div class="article-info article-info-post">
        
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/学习笔记/">学习笔记</a>
    </div>


        
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/">JavaScript</a></li></ul>
    </div>

        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p><strong> 浏览器之DOM：</strong> <Excerpt in index | 首页摘要></p>
<h2 id="DOM—-gt-Document-Object-Model"><a href="#DOM—-gt-Document-Object-Model" class="headerlink" title="DOM—&gt;Document Object Model"></a>DOM—&gt;Document Object Model</h2><p>DOM定义了表示和修改文档所需的方法。DOM对象即为宿主对象，由浏览器厂商定义，用来操作html和xml功能的一类对象的集合。也有人称DOM是对HTML以及XML的标准编程接口。<br>DOM不能操作CSS！！！DOM修改CSS的是通过改变HTML间接改变CSS的。改变不了CSS行间样式，改变的是HTML。</p>
<p>DOM之后一些成组出现的东西都是类数组的形式。</p>
<p>每一个词条就是一个query。每个query都是人工自己写的。因为商家都追求不平凡，要和别家的有区分，绚丽一点儿的。</p>
<p><code>var div = document.getElementsByTagName(&#39;div&#39;)[0];
div.style.width = &quot;100px&quot;;
div.style.height = &quot;100px&quot;;
div.style.backgroundColor = &quot;red&quot;;
在div上永久绑定一个方法，每次点击都变色。
var count = 0;
div.onclick = function () {
  count ++;
  if(count % 2 == 1) {
    this.style.background = &quot;green&quot;;
  }else{
    this.style.background = &quot;red&quot;;
  }
}</code></p>
<p>鼠标监控：<br><code>document.onkeydown = function(e) {
  switch(e.which) {
    case 37:
      div.style.left = perseInt(div.style.left) - speed + &#39;px&#39;;
    case 38:
      div.style.top = perseInt(div.style.top) + speed + &#39;px&#39;;
    case 39:
      div.style.left = perseInt(div.style.left) + speed + &#39;px&#39;;
    case 40:
      div.style.top = perseInt(div.style.top) - speed + &#39;px&#39;;
  }
}</code></p>
<h2 id="对节点的增删改查"><a href="#对节点的增删改查" class="headerlink" title="对节点的增删改查"></a>对节点的增删改查</h2><p>查<br>查看元素节点<br>document代表整个文档<br>document.getElementById() //元素id 在Ie8以下的浏览器，不区分id大小写，而且也返回匹配name属性的元素<br>.getElementsByTagName() // 标签名<br>getElementByName(); //，需注意，只有部分标签name可生效（表单，表单元素，img，iframe）<br>.getElementsByClassName() // 类名 -&gt; ie8和ie8以下的ie版本中没有，可以多个class一起<br>.querySelector() // css选择器   在ie7和ie7以下的版本中没有<br>.querySelectorAll() // css选择器 在ie7和ie7以下的版本中没有<br>但是他和querySelector这两个方法不常用，因为这两个方法不是实时的，静态的。因为js语言就是实时的，后期只要操作HTML就会重新执行一下页面，所以效率低，但是执行的是实时的。</p>
<h2 id="DOM结构树-–-gt-一系列继承关系。"><a href="#DOM结构树-–-gt-一系列继承关系。" class="headerlink" title="DOM结构树  –&gt; 一系列继承关系。"></a>DOM结构树  –&gt; 一系列继承关系。</h2><p>Node也是一个构造函数，他是最顶头的那个函数对象。<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">document</span><span class="selector-class">.__proto__</span>   就是<span class="selector-tag">HTMLDocument</span></span><br><span class="line"><span class="selector-tag">document</span><span class="selector-class">.__proto__</span><span class="selector-class">.__proto__</span>    就是<span class="selector-tag">Document</span></span><br><span class="line"><span class="selector-tag">document</span><span class="selector-class">.__proto__</span><span class="selector-class">.__proto__</span><span class="selector-class">.__proto__</span>   就是<span class="selector-tag">Node</span></span><br><span class="line"><span class="selector-tag">document</span><span class="selector-class">.__proto__</span><span class="selector-class">.__proto__</span><span class="selector-class">.__proto__</span><span class="selector-class">.__proto__</span>   就是<span class="selector-tag">EventTarget</span>   这是一个事件</span><br><span class="line"><span class="selector-tag">document</span><span class="selector-class">.__proto__</span><span class="selector-class">.__proto__</span><span class="selector-class">.__proto__</span><span class="selector-class">.__proto__</span><span class="selector-class">.__proto__</span>   就是系统上的<span class="selector-tag">Object</span>的原型，最终都会追溯到系统上的__<span class="selector-tag">proto__</span></span><br><span class="line"><span class="selector-tag">document</span><span class="selector-class">.documentElement</span>   代表的就是<span class="selector-tag">HTML</span>标签</span><br><span class="line"><span class="selector-tag">Document</span>  <span class="selector-tag">--</span>&gt; <span class="selector-tag">HTMLDocument</span>.</span><br><span class="line"><span class="selector-tag">document</span>代表的是整个页面文档。<span class="selector-tag">Document</span>原型链</span><br></pre></td></tr></table></figure></p>
<ol>
<li>getElementById方法定义在Document.prototype上，即Element节点上不能使用。</li>
<li>getElementsByName方法定义在HTMLDocument.prototype上，即非html中的document以外不能使用(xml document,Element)</li>
<li>getElementsByTagName方法定义在Document.prototype 和 Element.prototype上</li>
<li>HTMLDocument.prototype定义了一些常用的属性，body,head,分别指代HTML文档中的<body><head>标签。</li>
<li>Document.prototype上定义了documentElement属性，指代文档的根元素，在HTML文档中，他总是指代<html>元素</li>
<li>getElementsByClassName、querySelectorAll、querySelector在Document,Element类中均有定义</li>
</ol>
<p><code>&lt;div&gt;&lt;span&gt;1&lt;/span&gt;&lt;/div&gt;&lt;span&gt;&lt;/span&gt;</code><br><code>var div = document.getElementsByTagName(&#39;div&#39;)[0];</code><br><code>var span = div.getElementsByTagName(&#39;span&#39;)[0];</code><br>在开发的时候也是先选中父级，然后在父级下选择要选择的子级。</p>
<h2 id="节点的类型"><a href="#节点的类型" class="headerlink" title="节点的类型"></a>节点的类型</h2><p>元素节点   —— 1<br>属性节点   —— 2<br>文本节点   —— 3<br>注释节点   —— 8<br>document  —— 9<br>DocumentFragment  ——  11 （文档碎片节点）<br>获取节点类型   nodeType </p>
<h2 id="遍历节点树："><a href="#遍历节点树：" class="headerlink" title="遍历节点树："></a>遍历节点树：</h2><p> parentNode -&gt; 父节点  每个节点只有一个父节点(最顶端的parentNode为#document。再往上就是null);<br> childNodes -&gt; 子节点们<br> firstChild -&gt; 第一个子节点<br> lastChild -&gt; 最后一个子节点<br> nextSibling-&gt;后一个兄弟元素<br> previousSibling-&gt;前一个兄弟元素</p>
<p>所说的IE不兼容说的都是IE9以下的。IE10以上都兼容W3C标准了。<br>基于元素节点树的遍历<br>parentElement -&gt; 返回当前元素的父元素节点 (IE不兼容)<br>children -&gt; 只返回当前元素的元素子节点<br>node.childElementCount  === node.children.length当前元素节点的子元素节点个数(IE不兼容)<br>firstElementChild -&gt; 返回的是第一个元素节点(IE不兼容)<br>lastElementChild -&gt; 返回的是最后一个元素节点(IE不兼容)<br>nextElementSibling / previousElementSibling -&gt;返回后一个/前一个兄弟元素节点（IE不兼容)</p>
<h2 id="节点的四个属性"><a href="#节点的四个属性" class="headerlink" title="节点的四个属性"></a>节点的四个属性</h2><p>nodeName<br>元素的标签名，以大写形式表示,只读<br>nodeValue<br>Text节点或Comment节点的文本内容,可读写<br>nodeType（必须记住，很重要的！）<br>该节点的类型，只读<br>attributes<br>Element 节点的属性集合,比如：<div id='only' class='demo'></div>  div.attributes取出来一个集合放到一个类数组里面。 可以改变值div.attributes[0].value = ‘abc’; 能赋值能改值，只能改属性值，也就是更改id的值。</p>
<p>节点的一个方法  Node.hasChildNodes();   有没有子节点，返回结果是false或者true。</p>
<h2 id="DOM基本操作："><a href="#DOM基本操作：" class="headerlink" title="DOM基本操作："></a>DOM基本操作：</h2><p>增<br><code>document.createElement();
document.createTextNode();
document.createComment();
document.createDocumentFragment();</code><br>插<br><code>PARENTNODE.appendChild();
PARENTNODE.insertBefore(a, b);</code><br>例如：页面中有<code>&lt;div&gt;</code><br><code>&lt;span&gt;&lt;/span&gt;</code><br><code>&lt;/div&gt;</code><br><code>var str = document.createElement(&#39;strong&#39;);</code><br><code>var div = document.getElementsByTagName(&#39;div&#39;)[0];</code><br><code>div.insertBefore(str, span)</code><br>就是把创建的strong标签插入到div里面的span之前。</p>
<p>删除标签<br><code>div.removeChild();</code>   其实是剪切,先找到要删除的标签的父级，然后用的是父级删除其中子级的标签功能，一般都用的是这个，因为想用的时候，如果还保存着就还可以找到。真正的删除是用对象<code>.remove();</code>   这是新出的方法，原先没有的。这个是真正的删除了，就再也找不到了。</p>
<p>替换标签也是父级调用，<code>parentNode.replaceChild(new, origin);</code>用新的去替换久的。被替换的标签不是被删除了，而是被剪切出来了。</p>
<p><code>div.appendChild(p)</code>,在div标签中加上一些内容或者标签等等。</p>
<h2 id="Element节点的一些属性"><a href="#Element节点的一些属性" class="headerlink" title="Element节点的一些属性"></a>Element节点的一些属性</h2><p><code>innerHTML</code>  这个可以获取标签中的内容。不是追加，是可以覆盖原先的内容的，但是可以用+=的方法追加内容。还可以改变CSS样式的，只要写入就能使用。<br><code>innerText(火狐不兼容) / textContent(老版本IE不好使)</code>   可取可赋值。但是这个方法一定要慎重的去用。因为会把原先的内容给覆盖的。</p>
<h2 id="Element节点的一些方法"><a href="#Element节点的一些方法" class="headerlink" title="Element节点的一些方法"></a>Element节点的一些方法</h2><p><code>ele.setAttribute();</code> 设置原生DOM上的属性 例如：<br><code>div.setArrtibute(&#39;id&#39;,&#39;only&#39;)</code>   这表示在div上加上id属性。还可以加上一些没有的属性，也就是人为加上去的属性。就比如在标签上人为设置一个属性，data-log=’0’; 这个认为加上的属性是用来计算数据量的，算流量的，看这些流量从哪些网站分流出来的，计算给钱。   取data-log值就是：  <code>div.getAttribute(&#39;data-log&#39;);</code></p>
<p><code>ele.getAttribute();</code> 取原生DOM上的属性<br><code>div.getArrtibute();</code>取出行间属性的值。</p>
<h2 id="日期对象Date"><a href="#日期对象Date" class="headerlink" title="日期对象Date();"></a>日期对象Date();</h2><p>先  <code>var date = new Date();</code><br>然后就能调用Date()方法的一些方法。<br><code>date.getDate();</code> 从Data对象中返回一个月中的某一天 （1-31）  <code>date.getDay();</code>   从Data对象返回一周中的某一天（0-6）<br><code>date.getMonth();</code> 从Data对象返回月份（0-11）<br><code>date.getFullYear();</code>  从Data对象以四位数字返回年份（后来才有的方法）<br><code>date.getYear();</code>  请使用<code>data.getFullYear()</code>方法：一开始就有的方法。只不过这个方法有一个缺点，就是它是用六位表示年月日的。95.03.17；到二千年的时候就不够用了。所以才有了上面的那个完整表示的方法。这就是千年虫问题的出现。当然肯定还有万年虫，不过这个就不是我们需要考虑的问题了，离我们太遥远了~~<br><code>date.getHours();</code>   返回Data对象的小时（0-23）<br><code>date.getMinutes();</code>   返回Data对象的分钟（0-59）<br><code>date.getSeconds();</code>   返回Data对象的秒数（0-59）<br><code>date.getMillseconds();</code>  返回Data对象的毫秒数（0-999）<br><code>date.getTime();</code>    返回1970年1月1日至今的毫秒数（这个方法是最常用的，把耶稣出生的那一年当做人类的纪元年，计算机的纪元年就是1970.01.01，所有的计算机和手机的时间的计算都是根据计算机纪元时间来换算出来的。重点是：这个方法能帮我们算时间差，每个功能用的时间差就是根据这个方法来计算的）<br><code>date.getTimezoneOffset();</code>   返回本地时间与格林威治标准时间（GMT）的分钟差<br><code>date.getUTCDate();</code>    根据世界时从Data对象返回月中的一天（1-31）<br><code>date.getUTCDay();</code>   根据世界时从Data对象返回月份（0-6）<br><code>date.getUTCMonth();</code>  根据世界时从Data对象返回月份（0-11）<br><code>date.getUTCFullYear();</code> 根据世界时从Data对象返回四位数的年份<br><code>date.getUTCHours();</code>  根据世界时返回Data对象的小时（0-23）<br><code>date.getUTCMiutes();</code>  根据世界时返回Data对象的分钟（0-59）<br><code>date.getUTCSeconds();</code>  根据世界时返回Date对象的秒钟（0-59）<br><code>date.getUTCMillseconds();</code> 根据世界时返回Date对象的毫秒（0-999）<br><code>date.parse();</code>   返回1970年1月1日午夜到指定日期（字符串）的毫秒数<br>人为设置一个时间点，到设置好的时间点执行一个功能，比如淘宝上的定时抢购，就是到达人为设置的时间点之后立即执行函数功能。<br><code>date.setDate();</code>   设置Date对象中月的某一天（1-31）<br><code>date.setMonth();</code>   设置Date对象中月份（0-11）<br><code>date.setFullYear();</code>  设置Date对象中的年份（四位数字）<br><code>date.setYear();</code>     请使用setFullYear()方法代替<br><code>date.setHours();</code>    设置Date对象中的小时（0-23）<br><code>date.setMinutes();</code>  设置Date对象中的分钟（0-59）<br><code>date.setSeconds();</code>    设置Date对象中的秒钟（0-59）<br><code>date.setMillseconds();</code>  设置Date对象中的毫秒（0-999）<br><code>date.setTime();</code>      以毫秒设置Date对象<br><code>date.toSource();</code>    返回该对象的源代码<br><code>date.toString();</code>   把Date对象转换为字符串<br><code>date.toTimeString();</code>  把Date对象的时间部分转换为字符串<br><code>date.toDateString();</code>  把Date对象的日期部分转换成字符串</p>
<h1 id="JS定时器"><a href="#JS定时器" class="headerlink" title="JS定时器"></a>JS定时器</h1><h2 id="setInterval"><a href="#setInterval" class="headerlink" title="setInterval()"></a>setInterval()</h2><p>   <code>setInterval(function() {}, time);</code>time只能赋一次值，并不能通过改变time的值来动态改变隔得时间。定时器并不准。如何看时间准不准呢？写一个函数如下：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> firstTime = <span class="keyword">new</span> <span class="built_in">Date</span>().getTime();</span><br><span class="line">setInterval(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"> <span class="keyword">var</span> lastTime = <span class="keyword">new</span> <span class="built_in">Date</span>().getTime();</span><br><span class="line"> <span class="built_in">console</span>.log(lastTime - firstTime);</span><br><span class="line"> firstTime - lastTime;</span><br><span class="line">&#125;, <span class="number">1000</span>);</span><br></pre></td></tr></table></figure></p>
<p>在控制台上打印的结果并不总是1000毫秒，所以这个方法的时间间隔并不是很准的。所以要是做的功能对时间有很精确的时间要求就不能寄希望于这个方法上的。与系统执行代码所消耗的时间还有。这个方法的排列机制是基于红黑数的。每一次这个方法都会返回一个唯一标示。应用就是VIP电影有试看时间，就是用这个方法。</p>
<p><code>setTimeout();</code>   只执行一次。<br><code>clearInterval();</code><br><code>clearTimeout();</code><br>全局对象window上的方法，内部函数this指向window<br>注意 ：<code>setInterval(&quot;func()&quot;,1000);</code></p>
<h2 id="查看滚动条的滚动距离"><a href="#查看滚动条的滚动距离" class="headerlink" title="查看滚动条的滚动距离"></a>查看滚动条的滚动距离</h2><p><code>window.pageXOffset/pageYOffset</code><br>IE8及IE8以下不兼容<br>IE8及IE8以下用的下面这个方法：<br><code>document.body/documentElement.scrollLeft/scrollTop</code><br>但是这两个方法是在IE浏览器中到底哪个能用是不一定的，又但是这两个问题是互相冲突的，一个有值另一个就没有值了。所以就让两个值加起来用。<br>兼容性比较混乱，用时取两个值相加，因为不可能存在两个同时有值</p>
<h2 id="练习："><a href="#练习：" class="headerlink" title="练习："></a>练习：</h2><p><strong>封装兼容性方法，求滚动轮滚动距离</strong></p>
<p><code>getScrollOffset()</code><br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">function getScrollOffset() &#123;</span><br><span class="line">  <span class="keyword">if</span>(window.pageXOffset) &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">	x : window<span class="selector-class">.pageXOffset</span>,</span><br><span class="line">	y : window.pageYOffset</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    return &#123;</span><br><span class="line">	x : document<span class="selector-class">.body</span><span class="selector-class">.scrollLeft</span> + document<span class="selector-class">.documentElement</span><span class="selector-class">.scrollLeft</span>,</span><br><span class="line">	y : document<span class="selector-class">.bodu</span><span class="selector-class">.scrollTop</span> + document<span class="selector-class">.documentElement</span><span class="selector-class">.scrollTop</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>如果放大页面的尺寸。那么返回的可视区窗口就是放大之后的可视区的实际尺寸。</p>
<p>就在编程的html标签的上面还有一个&lt;!DOCTYPE html&gt;表示 文档类型，当有这个标签的时候浏览器的渲染模式就是标准模式，没有这个标签的时候浏览器的渲染模式就是怪异模式。渲染就是识别语法并绘制成页面。<br>标准模式：正常的渲染模式。一般除了IE浏览器其他的浏览器的与之前的变动并不是很大，所以也用不着去启用怪异模式。<br>怪异模式又叫混杂模式：试图去兼容浏览器之前的版本。</p>
<p><strong>有一个方法能看当前浏览器是在什么渲染模式下：</strong><br><code>document.compatMode</code>     当返回值为：”CSS1Compat”;  表示标准模式下            当返回值为：”BackCompat”  表示在怪异模式下，向后兼容</p>
<h2 id="查看视口的尺寸的方法："><a href="#查看视口的尺寸的方法：" class="headerlink" title="查看视口的尺寸的方法："></a>查看视口的尺寸的方法：</h2><p><code>window.innerWidth/innerHeight</code><br>IE8及IE8以下不兼容<br>标准模式下，任意浏览器都兼容的方法：<br><code>document.documentElement.clientWidth/clientHeight</code><br>适用于怪异模式下的浏览器的方法：<br><code>document.body.clientWidth/clientHeight</code></p>
<h2 id="练习：-1"><a href="#练习：-1" class="headerlink" title="练习："></a>练习：</h2><p><strong>封装兼容性方法，返回浏览器视口尺寸</strong><br><code>getViewportOffset()</code><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getViewportOffset</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(<span class="built_in">window</span>.innerWidth) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">	w : <span class="built_in">window</span>.innerWidth,</span><br><span class="line">	h : <span class="built_in">window</span>.innerHeight</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="built_in">document</span>.compatMode === <span class="string">"BackCompat"</span>)&#123;     </span><br><span class="line">	<span class="keyword">return</span> &#123;</span><br><span class="line">	  w : <span class="built_in">document</span>.body.clientWidth,</span><br><span class="line">	  h : <span class="built_in">document</span>.body.clientHeight</span><br><span class="line">	&#125;</span><br><span class="line">  &#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="built_in">document</span>.compatMode === <span class="string">"CSS1Compat"</span>)&#123;</span><br><span class="line">	<span class="keyword">return</span> &#123;</span><br><span class="line">	  w : <span class="built_in">document</span>.documentElement.clientWidth,</span><br><span class="line">  	  h : <span class="built_in">document</span>.documentElement.clientHeight</span><br><span class="line">	&#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="比较获取查看窗口尺寸的方法的取值差异："><a href="#比较获取查看窗口尺寸的方法的取值差异：" class="headerlink" title="比较获取查看窗口尺寸的方法的取值差异："></a>比较获取查看窗口尺寸的方法的取值差异：</h2><p>使用<code>$(window).width()</code>与 <code>$(window).height();</code><br>获取的是屏幕可视区域的宽高，不包括滚动条与工具条。<br><code>window.outerWidth</code> 与 <code>window.outerHeight;</code><br>获取的是加上工具条与滚动条窗口的宽高与高度(总高度算上全部滚动条的高度)。<br><code>window.innerWidth</code>与 <code>window.innerHeight;</code><br>获取的是可视区域的宽高，但是宽度包含了纵向滚动条的宽度。<br><code>document.documentElement.clientWidth</code>与 <code>document.documentElement.clientHeight;</code><br>获取的是屏幕可视区域的宽高，不包括滚动条与工具条，跟JQuery的获取的结果是一样的。<br><code>document.body.clientWidth</code> 与 <code>document.body.clientHeight;</code><br>获取的是宽度可视区域的宽度，获取的高度是是body内容的高度，如果内容只有200px，那么这个高度也是200px，如果想通过它得到屏幕可视区域的宽高，需要样式设置如下：<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line"> <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line"> <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">body</span>, <span class="selector-tag">div</span>, <span class="selector-tag">p</span>, <span class="selector-tag">ul</span> &#123;</span><br><span class="line"> <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line"> <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="兼容性："><a href="#兼容性：" class="headerlink" title="兼容性："></a>兼容性：</h2><ol>
<li>window.innerWidth 和 window.outerWidth 属性方法IE8以及以下不支持，得到的值为undefined。</li>
<li>测试浏览器IE，火狐，谷歌，Safari都支持怪异下的方法属性<code>document.documentElement.clientWidth</code> 与 <code>document.documentElement.clientHeight</code>。</li>
</ol>
<p>结论：<br>获取屏幕的可视区域的宽高可使用jQuery的方式获得，也可以使用原生js获得，即：<code>document.documentElement.clientWidth</code>与 <code>document.documentElement.clientHeight</code> 方法。</p>
<h2 id="查看元素的几何尺寸"><a href="#查看元素的几何尺寸" class="headerlink" title="查看元素的几何尺寸"></a>查看元素的几何尺寸</h2><p><code>domEle.getBoundingClientRect();</code><br>兼容性很好，返回的是元素相对其他的最近的有定位的元素的真实的值<br>该方法返回一个对象，对象里面有left,top,right,bottom等属性。left和top代表该元素左上角的X和Y坐标，right和bottom代表元素右下角的X和Y坐标<br>height和width代表该元素真实的自身可视高度和宽度。<br>height和width属性老版本IE并未实现<br>返回的结果并不是“实时的”，并且在Google浏览器中扩大缩小页面的内容left和right的值是会跟着变的。其他值是可视区域真实值。</p>
<h2 id="查看元素的尺寸"><a href="#查看元素的尺寸" class="headerlink" title="查看元素的尺寸"></a>查看元素的尺寸</h2><p><code>dom.offsetWidth，dom.offsetHeight</code></p>
<h2 id="查看元素的位置"><a href="#查看元素的位置" class="headerlink" title="查看元素的位置"></a>查看元素的位置</h2><p><code>dom.offsetLeft, dom.offsetTop</code><br>不管dom自身有没有定位，他都会把他跟他最近的有定位的父级元素的距离返回出来。对于无定位父级的元素，返回相对文档的坐标。对于有定位父级的元素，返回相对于最近的有定位的父级的坐标。在浏览器下缩放对该方法的取值是有影响的，返回的是真实的可视区域的大小值。<br><code>dom.offsetParent</code><br>返回最近的有定位的父级，如无，返回body，<br><code>documen.body.offsetParent</code>返回null</p>
<h2 id="练习：-2"><a href="#练习：-2" class="headerlink" title="练习："></a>练习：</h2><p>eg：求元素相对于文档的坐标getElementPosition<br><code>function getElementPosition(dom) {
  if(dom.offsetParent !== body) {
    return {
      x : dom.offsetLeft,
        y : dom.offsetTop
    }
  }
}</code></p>
<h2 id="让滚动条滚动"><a href="#让滚动条滚动" class="headerlink" title="让滚动条滚动"></a>让滚动条滚动</h2><p>window上有三个方法<br><code>scroll(),scrollTo()       scrollBy();</code><br>三个方法功能类似，用法都是将x,y坐标传入。即实现让滚动轮滚动到当前位置。前两个方法不做累加，是定点到当前所设置位置。<br>区别：scrollBy()会在之前的数据基础之上做累加。</p>
<p>eg：利用scrollBy() 快速阅读的功能    加锁式的编程方法<br><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;div <span class="built_in">style</span>='<span class="built_in">width</span>:100px;<span class="built_in">height</span>:100px;<span class="built_in">background</span>-<span class="built_in">color</span>:orange;<span class="built_in">color</span>:#fff;<span class="built_in">font</span>-size:40px;<span class="built_in">font</span>-weight:bold;text-align:<span class="built_in">center</span>;line-<span class="built_in">height</span>:100px;<span class="built_in">position</span>:fixed;bottom:200px;right:50px;<span class="built_in">border</span>-<span class="built_in">radius</span>:<span class="number">50</span><span class="symbol">%</span>;<span class="built_in">opacity</span>:<span class="number">0.5</span>;'&gt; start &lt;/div&gt;</span><br><span class="line">&lt;div <span class="built_in">style</span>='<span class="built_in">width</span>:100px;<span class="built_in">height</span>:100px;<span class="built_in">background</span>-<span class="built_in">color</span>:red;<span class="built_in">color</span>:#fff;<span class="built_in">font</span>-size:40px;<span class="built_in">font</span>-weight:bold;text-align:<span class="built_in">center</span>;line-<span class="built_in">height</span>:100px;<span class="built_in">position</span>:fixed;bottom:400px;right:50px;<span class="built_in">border</span>-<span class="built_in">radius</span>:<span class="number">50</span><span class="symbol">%</span>;<span class="built_in">opacity</span>:<span class="number">0.5</span>;'&gt; stop &lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="built_in">var</span> start = document.getElementsByTagName('div')[<span class="number">0</span>];</span><br><span class="line">    <span class="built_in">var</span> stop = document.getElementsByTagName('div')[<span class="number">1</span>];</span><br><span class="line">    <span class="built_in">var</span> <span class="built_in">key</span> = <span class="literal">true</span>;</span><br><span class="line">    <span class="built_in">var</span> <span class="built_in">timer</span> = <span class="number">0</span>;</span><br><span class="line">    start.onclick = function () &#123;</span><br><span class="line">      <span class="keyword">if</span>(<span class="built_in">key</span>) &#123;</span><br><span class="line">          <span class="built_in">timer</span> = setInterval(function () &#123;</span><br><span class="line">      window.scrollBy(<span class="number">0</span>, <span class="number">10</span>);</span><br><span class="line"></span><br><span class="line">          &#125;, <span class="number">100</span>);</span><br><span class="line">          <span class="built_in">key</span> = <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    stop.onclick = function () &#123;</span><br><span class="line">      clearInterval(<span class="built_in">timer</span>);</span><br><span class="line">      <span class="built_in">key</span> = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></p>
<h2 id="间接控制脚本化CSS属性的方法："><a href="#间接控制脚本化CSS属性的方法：" class="headerlink" title="间接控制脚本化CSS属性的方法："></a>间接控制脚本化CSS属性的方法：</h2><p>读写元素css属性<br><code>dom.style.prop</code><br>可读写行间样式，只能读写行间的值，写到别的地方是读写不出来的。写入操作的唯一方法，其他的方法只能读不能写入了。<br>没有兼容性问题，碰到float这样的关键字属性，前面应加css<br>eg:float — &gt; cssFloat<br>复合属性必须拆解，组合单词变成小驼峰式写法<br>写入的值必须是字符串格式</p>
<h2 id="查询计算样式"><a href="#查询计算样式" class="headerlink" title="查询计算样式"></a>查询计算样式</h2><p>这个方法传入的第二个参数null传入的是什么呢？传入的是获取伪元素，原生的方法。获取伪元素的属性，伪元素的display默认是inline-block；例如获取一个DOM元素div的伪元素的样式表。就是<code>window.getComputedStyle(div, &quot;after&quot;)[&#39;prop&#39;]</code>就是获取的这个div上的伪元素属性after的一些值，但是不能操作，只能取出来。如何改变伪元素的需求呢？当点击一个DOM元素div的时候，让div上的一个伪元素变化。也就是操作CSS的样式上加上一些东西。改变原先的class名字而且先写好CSS样式。</p>
<p><code>window.getComputedStyle(ele,null);</code>显示获取出来的是显示展示能看见的真实值，获取出来的是一个对象，还可以.属性，获取出具体的一个属性值。<br>计算样式只读<br>返回的计算样式的值都是绝对值，没有相对单位（em）<br>IE8 及 IE8以下不兼容</p>
<p>查看IE8及IE8以下的属性的特有的方法<br>查询样式<br><code>ele.currentStyle</code><br>计算样式只读<br>返回的计算样式的值不是经过转换的绝对值<br>IE独有的属性</p>
<h2 id="练习"><a href="#练习" class="headerlink" title="练习"></a>练习</h2><p><strong>封装兼容性方法getStyle(obj,prop);</strong>  这个方法获取的很靠谱。并且这个方法获取的值是字符串形式的eg“8px”；所以用的时候需要用parseInt()方法来把后面的字符串截断成纯数字形式的，这样我们才能使用。</p>
<p><code>function getStyle(elem, prop) {
  if(window.getComputedStyle) {
    return window.getComputedStyle(elem, null)[prop];
  }else{
    return elem.currentStyle[prop];
  }
}</code></p>
<h1 id="JSON："><a href="#JSON：" class="headerlink" title="JSON："></a>JSON：</h1><p>JSON是一种传输数据的格式（以对象为样板，本质上就是对象，但用途有区别，对象就是本地用的，json是用来传输的）   最开始的时候前后端交流的是使用xml的形式的，但是现在用的是JSON的形式；<br>可以把JSON当成一个构造函数，它里面就有如下两个方法：<br>JSON.parse();   string—&gt;json<br>JSON.stringify();   json—-&gt;string<br>是因为我们传输的信息就是字符串形式的：可以互相转换。</p>
<h2 id="静态类："><a href="#静态类：" class="headerlink" title="静态类："></a>静态类：</h2><p>js是面向过程正在朝面向对象过渡的过程：例如：<br>setInterval() 这个方法是window上的，js上定义的一些方法<br>Math()这个方法，5年前是定义在function Math() {}上的；现在是一个对象。一些方法直接定义在了Math() 身上，所以想用的时候就不用new了，各有各的好处。他们身上的方法就叫做静态方法，静态类的总称。Math.floor()向下取整；Math.ceil()向上取整；Math.abs()取绝对值(absolute);Math.random()  0-1之间的任意小数；Math.sqrt()开方；</p>
<h2 id="时间线："><a href="#时间线：" class="headerlink" title="时间线："></a>时间线：</h2><p>js加载的缺点：加载工具方法没必要阻塞文档，使得js加载会影响页面效率，一旦网速不好，那么整个网站将等待js加载而不进行后续渲染等工作。<br>有些工具方法需要按需加载，用到再加载，不用不加载。</p>
<h2 id="javascript-异步加载-的-三种方案"><a href="#javascript-异步加载-的-三种方案" class="headerlink" title="javascript 异步加载 的 三种方案"></a>javascript 异步加载 的 三种方案</h2><ol>
<li><p>defer 异步加载，下载完不是立刻执行，是要等到dom文档全部解析完才会被执行。只有IE能用。IE10以下的可用。不光是页面内的js文件还是页面外引入的都会变成异步加载的。<br><script type="text/javascript" defer="defer" src="xxx.js"></script>可以简化成defer<br>就比如说页面中有一个img标签，先解析，加到DOM树上；再加载，比如图片需要加载图片的二进制文档，也就是下载，下载完了也就是加载完了；最后绘制渲染出来。</p>
</li>
<li><p>async 异步加载，加载完就执行，async只能加载外部脚本，不能把js写在script 标签里。这个方法只能是加载外部js引用时才能异步加载。<br><script type="text/javascript" async="async" src="xxx.js"></script><br>asynchronous javascript and xml —–&gt;  Ajax</p>
</li>
</ol>
<p>1和2 执行时也不阻塞页面，但是不能两个同时用。一般公司都会采用牺牲IE的方法只用async的。</p>
<ol>
<li>创建script，插入到DOM中，加载完毕后callBack</li>
</ol>
<h2 id="按需加载异步下载js的兼容性写法："><a href="#按需加载异步下载js的兼容性写法：" class="headerlink" title="按需加载异步下载js的兼容性写法："></a>按需加载异步下载js的兼容性写法：</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">loadScript</span>(<span class="params">url, callback</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> script = <span class="built_in">document</span>.createElement(<span class="string">'script'</span>);</span><br><span class="line">  script.type = <span class="string">"text/jacascript"</span>;</span><br><span class="line">  script.src = url;</span><br><span class="line">  <span class="keyword">if</span>(script.readyState) &#123;</span><br><span class="line">    script.onreadystatechange = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">if</span>(script.readyState == <span class="string">"complete"</span> ||  script.readyState == <span class="string">"loaded"</span>) &#123;</span><br><span class="line">	  callback();</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    script.onload = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      callback();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">document</span>.body.appendChild(script);</span><br><span class="line">&#125;</span><br><span class="line">loadScript(<span class="string">'tools.js'</span>, getScrollOffset);</span><br></pre></td></tr></table></figure>
<p>这里有一个问题，就是还没等到工具js包下载完呢，就调用这个包里面的方法肯定会报错的。解决方法为可以<code>loadScript(&#39;tools.js&#39;, function() {console.log(getScrollOffset())});</code>或者把tools.js里面的方法都整合到一个对象里面：在js包里： <code>var obj={getScrollOffset: function() {console.log(&#39;a&#39;)}};</code>然后再把上面这个方法也改了，改成  <code>obj[callback]();</code>这样就可以这样用了<code>loadScript(&#39;tools.js&#39;, &#39;getScrollOffset&#39;);</code></p>
<h2 id="js时间线："><a href="#js时间线：" class="headerlink" title="js时间线："></a>js时间线：</h2><ol>
<li>创建Document对象，开始解析web页面。解析HTML元素和他们的文本内容后添加Element对象和Text节点到文档中。这个阶段document.readyState = ‘loading’。</li>
<li>遇到link外部css，创建线程加载，并继续解析文档。</li>
<li>遇到script外部js，并且没有设置async、defer，浏览器加载，并阻塞，等待js加载完成并执行该脚本，然后继续解析文档。</li>
<li>遇到script外部js，并且设置有async、defer，浏览器创建线程加载，并继续解析文档。<br>对于async属性的脚本，脚本加载完成后立即执行。（异步禁止使用document.write()因为该方法会清空之前写的所有文档流）</li>
<li>遇到img等，先正常解析dom结构，然后浏览器异步加载src，并继续解析文档。</li>
<li>当文档解析完成，document.readyState = ‘interactive’。</li>
<li>文档解析完成后，所有设置有defer的脚本会按照顺序执行。（注意与async的不同,但同样禁止使用document.write()）;</li>
<li>当文档解析完成后，document对象触发DOMContentLoaded事件，一触发就标志着解析完毕了。这也标志着程序执行从同步脚本执行阶段，转化为事件驱动阶段。</li>
<li>当所有async的脚本加载完成并执行后、img等加载完成后，document.readyState = ‘complete’，也就是当所有的东西都加载完成之后，window对象触发load事件。加载完成就开始渲染，所有的东西都就画出来了，用户可以看见东西了。</li>
<li>从此，以异步响应方式处理用户输入、网络事件等。</li>
</ol>
<p><strong>绑定事件的时候，无论多少的单词都不会大写的，但是只有一个特殊的就是’DOMContentLoaded’。</strong><br><code>document.readyState 三个阶段：loading、interactive、comolete.</code><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.addEventListener(<span class="string">'DOMContentLoaded'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="built_in">document</span>.readyState)</span><br><span class="line">&#125;, <span class="literal">false</span>);</span><br></pre></td></tr></table></figure></p>
<p>这样打印出来就是： ‘interactive’<br>再复习一下第三个参数false是什么意思呢，就是捕获，绑定事件监听的事件处理模型只能有两种行为，一个是捕获，另一个是冒泡。true的时候就是冒泡。</p>
<h2 id="练习题："><a href="#练习题：" class="headerlink" title="练习题："></a>练习题：</h2><p><strong>请编写一段JavaScript脚本生成下面这段DOM结构。要求：使用标准的DOM方法或属性。</strong><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"example"</span>&gt;</span><br><span class="line">	&lt;p <span class="class"><span class="keyword">class</span></span>=<span class="string">"slogan"</span>&gt;姬成，你最帅!<span class="xml"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line">&lt;<span class="regexp">/div&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>提示 dom.className 可以读写class<br><figure class="highlight cal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="keyword">div</span> = document.createElement(<span class="string">'div'</span>),</span><br><span class="line">    p = document.createElement(<span class="string">'p'</span>);</span><br><span class="line">p.innerText = <span class="string">'姬成，你最帅！'</span>;      也可以  <span class="keyword">var</span> text = document.createTextNode(<span class="string">'姬成，你最帅！'</span>);</span><br><span class="line"><span class="keyword">div</span>.appendChild(p);</span><br><span class="line">document.body.appendChild(<span class="keyword">div</span>);</span><br><span class="line"><span class="keyword">div</span>.setAttribute(<span class="string">'class'</span>, <span class="string">'example'</span>);</span><br><span class="line">p.setAttribute(<span class="string">'class'</span>, <span class="string">'slogan'</span>);</span><br><span class="line">有一个注意的点就时appendChild()括号里没有<span class="string">''</span>!!! 应该直接在里面写原生DOM   appendChild(<span class="keyword">div</span>)</span><br></pre></td></tr></table></figure></p>
<ol>
<li><p>封装函数insertAfter()；功能类似insertBefore();<br>提示:可忽略老版本浏览器，直接在Element.prototype上编程</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Element.prototype.insertAfter = <span class="function"><span class="keyword">function</span> <span class="params">(targetNode, afterNode)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> beforeNode = afterNode.nextElementSibling;</span><br><span class="line">  <span class="keyword">if</span>(beforeNode) &#123;</span><br><span class="line">    <span class="keyword">this</span>.insertBefore(targetNode, beforeNode);</span><br><span class="line">  &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.appendChild(targetNode);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>将目标节点内部的节点顺序逆序。<br>eg:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt; <span class="xml"><span class="tag">&lt;<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span> &lt;em&gt;<span class="xml"><span class="tag">&lt;/<span class="name">em</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span> </span><br><span class="line">&lt;div&gt;<span class="xml"><span class="tag">&lt;<span class="name">em</span>&gt;</span><span class="tag">&lt;/<span class="name">em</span>&gt;</span></span><span class="xml"><span class="tag">&lt;<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">Element.prototype.reverse = <span class="function"><span class="keyword">function</span> (<span class="params">dom</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> len = <span class="keyword">this</span>.length;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; len; i ++) &#123;</span><br><span class="line">    <span class="keyword">this</span>.</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h1 id="作业区："><a href="#作业区：" class="headerlink" title="作业区："></a>作业区：</h1><ol>
<li><p>遍历元素节点树，要求不能用children属性</p>
<figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"> &lt;div&gt;</span><br><span class="line">   &lt;span&gt;</span><br><span class="line">     &lt;p&gt;</span><br><span class="line">	&lt;strong&gt;</span><br><span class="line">	  &lt;em&gt;&lt;/em&gt;</span><br><span class="line">	&lt;/strong&gt;</span><br><span class="line">     &lt;/p&gt;</span><br><span class="line">   &lt;/span&gt;</span><br><span class="line"> &lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="built_in">var</span> div = document.getElementByTagName('div')[<span class="number">0</span>];</span><br><span class="line">function retElementChild(node) &#123;</span><br><span class="line">  <span class="built_in">var</span> temp = &#123;</span><br><span class="line">     <span class="built_in">length</span> : <span class="number">0</span>,</span><br><span class="line">     <span class="built_in">push</span> : Array.prototype.<span class="built_in">push</span>,</span><br><span class="line">     <span class="built_in">splice</span> : Array.prototype.<span class="built_in">splice</span></span><br><span class="line">  &#125;,</span><br><span class="line">      child = node.childNodes,</span><br><span class="line">      len = child.<span class="built_in">length</span>;</span><br><span class="line">  <span class="keyword">for</span>(<span class="built_in">var</span> i = <span class="number">0</span>; i &lt; len; i ++) &#123;</span><br><span class="line">     <span class="keyword">if</span>(child[i].nodeType === <span class="number">1</span>) &#123;</span><br><span class="line">	temp.<span class="built_in">push</span>(child[i]);</span><br><span class="line">     &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">retElement(div)</span><br></pre></td></tr></table></figure>
</li>
<li><p>封装函数，返回元素e的第n层祖先元素</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"> <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">span</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">strong</span>&gt;</span></span><br><span class="line">	  <span class="tag">&lt;<span class="name">em</span>&gt;</span><span class="tag">&lt;/<span class="name">em</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">function retParent(elem, n) &#123;</span><br><span class="line">  while(n &amp;&amp; elem) &#123;</span><br><span class="line">    elem = elem.parentElement;</span><br><span class="line">    n --;</span><br><span class="line">  &#125;</span><br><span class="line">  return elem;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>封装函数，返回元素e的第n个兄弟元素节点，n为正，返回后面的兄弟元素节点，n为负，返回前面的，n为0，返回自己。</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"> &lt;div&gt;</span><br><span class="line">   &lt;span&gt;</span><br><span class="line">     &lt;p&gt;</span><br><span class="line">	&lt;strong&gt;</span><br><span class="line">	  &lt;em&gt;&lt;/em&gt;</span><br><span class="line">	&lt;/strong&gt;</span><br><span class="line">     &lt;/p&gt;</span><br><span class="line">   &lt;/span&gt;</span><br><span class="line"> &lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">retSibing</span><span class="params">(e, n)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">while</span>(n &amp;&amp; e) &#123;</span><br><span class="line">    <span class="keyword">if</span>(n &gt; <span class="number">0</span>) &#123;</span><br><span class="line">	<span class="keyword">if</span>(e.nextElementSibling) &#123;</span><br><span class="line">          e = e.nextElementSibling;</span><br><span class="line">	&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">	  <span class="keyword">for</span>(<span class="keyword">var</span> e = e.nextSibling; e &amp;&amp; e.nodeType != <span class="number">1</span>; e = e.nextSibling);</span><br><span class="line">	&#125;</span><br><span class="line">	n --;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(e.previousElementSibling) &#123;</span><br><span class="line">	  e = e.previousElementSibling;</span><br><span class="line">	&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">	  <span class="keyword">for</span>(<span class="keyword">var</span> e = e.previousSibling; e &amp;&amp; e.nodeType != <span class="number">1</span>; e = e.previousSibling);</span><br><span class="line">	&#125;</span><br><span class="line">	n ++;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> e;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>编辑函数，封装children功能，解决以前部分浏览器的兼容性问题,就是用自己的方法实现children方法。</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"> &lt;div&gt;</span><br><span class="line">   &lt;span&gt;</span><br><span class="line">     &lt;p&gt;</span><br><span class="line">	&lt;strong&gt;</span><br><span class="line">	  &lt;em&gt;&lt;/em&gt;</span><br><span class="line">	&lt;/strong&gt;</span><br><span class="line">     &lt;/p&gt;</span><br><span class="line">   &lt;/span&gt;</span><br><span class="line"> &lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> div = document.getElementsByTagName(<span class="string">'div'</span>)[<span class="number">0</span>];</span><br><span class="line">Element.prototype.myChildren = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span><br><span class="line"> <span class="keyword">var</span> child = <span class="keyword">this</span>.childNodes,</span><br><span class="line">     len = child.length,</span><br><span class="line">     arr = [];</span><br><span class="line"> <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>；i &lt; len; i ++) &#123;</span><br><span class="line">    <span class="keyword">if</span>(child[i].nodeType == <span class="number">1</span>) &#123;</span><br><span class="line">	arr.push(child[i]);</span><br><span class="line">    &#125;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br><span class="line">div.myChildren();    结果为：[span]</span><br></pre></td></tr></table></figure>
</li>
<li><p>自己封装hasChildren()方法，不可用children属性。如果有元素节点返回true，如果没有返回false。</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"> &lt;div&gt;</span><br><span class="line">   &lt;span&gt;</span><br><span class="line">     &lt;p&gt;</span><br><span class="line">	&lt;strong&gt;</span><br><span class="line">	  &lt;em&gt;&lt;/em&gt;</span><br><span class="line">	&lt;/strong&gt;</span><br><span class="line">     &lt;/p&gt;</span><br><span class="line">   &lt;/span&gt;</span><br><span class="line"> &lt;/div&gt;</span><br><span class="line"><span class="keyword">var</span> div = document.getElementsByTagName(<span class="string">'div'</span>)[<span class="number">0</span>];</span><br><span class="line">Element.prototype.hasChildren = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> child = <span class="keyword">this</span>.childNodes,</span><br><span class="line">      len = child.length,</span><br><span class="line">      arr = [];</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; len; i ++) &#123;</span><br><span class="line">     <span class="keyword">if</span>(child[i].nodeType == <span class="number">1</span>) &#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">     &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">div.hasChildren();   结果：<span class="literal">true</span>;</span><br></pre></td></tr></table></figure></li>
</ol>

      
    </div>
    
  </div>
  
    
    <div class="copyright">
        <p><span>本文标题:</span><a  href="/2017/11/DOM.html">浏览器之DOM</a></p>
        <p><span>文章作者:</span><a  href="/" title="访问 Dexinser 的个人博客">Dexinser</a></p>
        <p><span>发布时间:</span>2017年11月09日 - 18时31分</p>
        <p><span>最后更新:</span>2017年12月20日 - 17时38分</p>
        <p>
            <span>原始链接:</span><a class="post-url" href="/2017/11/DOM.html" title="浏览器之DOM">http://indexcode.cn/2017/11/DOM.html</a>
            <span class="copy-path" data-clipboard-text="原文: http://indexcode.cn/2017/11/DOM.html　　作者: Dexinser" title=""></span>
        </p>
        <p>
            <span>许可协议:</span><i class="fa fa-creative-commons"></i> <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/cn/" title="中国大陆 (CC BY-NC-SA 3.0 CN)" target = "_blank">"署名-非商用-相同方式共享 3.0"</a> 转载请保留原文链接及作者。
        </p>
    </div>



<nav id="article-nav">
  
    <a  href="/2017/11/important Ideas.html" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption"><</strong>
      <div class="article-nav-title">
        
          编程方法小汇总
        
      </div>
    </a>
  
  
    <a  href="/2017/11/CSS技巧.html" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">CSS小技巧</div>
      <strong class="article-nav-caption">></strong>
    </a>
  
</nav>


  
</article>

    <div id="toc" class="toc-article">
    <strong class="toc-title">文章目录</strong>
    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#DOM—-gt-Document-Object-Model"><span class="toc-number">1.</span> <span class="toc-text">DOM—>Document Object Model</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#对节点的增删改查"><span class="toc-number">2.</span> <span class="toc-text">对节点的增删改查</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DOM结构树-–-gt-一系列继承关系。"><span class="toc-number">3.</span> <span class="toc-text">DOM结构树  –> 一系列继承关系。</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#节点的类型"><span class="toc-number">4.</span> <span class="toc-text">节点的类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#遍历节点树："><span class="toc-number">5.</span> <span class="toc-text">遍历节点树：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#节点的四个属性"><span class="toc-number">6.</span> <span class="toc-text">节点的四个属性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DOM基本操作："><span class="toc-number">7.</span> <span class="toc-text">DOM基本操作：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Element节点的一些属性"><span class="toc-number">8.</span> <span class="toc-text">Element节点的一些属性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Element节点的一些方法"><span class="toc-number">9.</span> <span class="toc-text">Element节点的一些方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#日期对象Date"><span class="toc-number">10.</span> <span class="toc-text">日期对象Date();</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#JS定时器"><span class="toc-number"></span> <span class="toc-text">JS定时器</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#setInterval"><span class="toc-number">1.</span> <span class="toc-text">setInterval()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#查看滚动条的滚动距离"><span class="toc-number">2.</span> <span class="toc-text">查看滚动条的滚动距离</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#练习："><span class="toc-number">3.</span> <span class="toc-text">练习：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#查看视口的尺寸的方法："><span class="toc-number">4.</span> <span class="toc-text">查看视口的尺寸的方法：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#练习：-1"><span class="toc-number">5.</span> <span class="toc-text">练习：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#比较获取查看窗口尺寸的方法的取值差异："><span class="toc-number">6.</span> <span class="toc-text">比较获取查看窗口尺寸的方法的取值差异：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#兼容性："><span class="toc-number">7.</span> <span class="toc-text">兼容性：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#查看元素的几何尺寸"><span class="toc-number">8.</span> <span class="toc-text">查看元素的几何尺寸</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#查看元素的尺寸"><span class="toc-number">9.</span> <span class="toc-text">查看元素的尺寸</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#查看元素的位置"><span class="toc-number">10.</span> <span class="toc-text">查看元素的位置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#练习：-2"><span class="toc-number">11.</span> <span class="toc-text">练习：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#让滚动条滚动"><span class="toc-number">12.</span> <span class="toc-text">让滚动条滚动</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#间接控制脚本化CSS属性的方法："><span class="toc-number">13.</span> <span class="toc-text">间接控制脚本化CSS属性的方法：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#查询计算样式"><span class="toc-number">14.</span> <span class="toc-text">查询计算样式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#练习"><span class="toc-number">15.</span> <span class="toc-text">练习</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#JSON："><span class="toc-number"></span> <span class="toc-text">JSON：</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#静态类："><span class="toc-number">1.</span> <span class="toc-text">静态类：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#时间线："><span class="toc-number">2.</span> <span class="toc-text">时间线：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#javascript-异步加载-的-三种方案"><span class="toc-number">3.</span> <span class="toc-text">javascript 异步加载 的 三种方案</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#按需加载异步下载js的兼容性写法："><span class="toc-number">4.</span> <span class="toc-text">按需加载异步下载js的兼容性写法：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#js时间线："><span class="toc-number">5.</span> <span class="toc-text">js时间线：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#练习题："><span class="toc-number">6.</span> <span class="toc-text">练习题：</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#作业区："><span class="toc-number"></span> <span class="toc-text">作业区：</span></a>
</div>
<style>
    .left-col .switch-btn {
        display: none;
    }
    .left-col .switch-area {
        display: none;
    }
</style>
<input type="button" id="tocButton" value="隐藏目录"  title="点击按钮隐藏或者显示文章目录">
<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
<script>
    var valueHide = "隐藏目录";
    var valueShow = "显示目录";
    if ($(".left-col").is(":hidden")) {
        $("#tocButton").attr("value", valueShow);
    }
    $("#tocButton").click(function() {
        if ($("#toc").is(":hidden")) {
            $("#tocButton").attr("value", valueHide);
            $("#toc").slideDown(320);
            $(".switch-btn, .switch-area").fadeOut(300);
        }
        else {
            $("#tocButton").attr("value", valueShow);
            $("#toc").slideUp(350);
            $(".switch-btn, .switch-area").fadeIn(500);
        }
    })
    if ($(".toc").length < 1) {
        $("#toc, #tocButton").hide();
        $(".switch-btn, .switch-area").show();
    }
</script>

    <style>
        .toc {
            white-space: nowrap;
            overflow-x: hidden;
        }
    </style>
    <script>
        $(document).ready(function() {
            $(".toc li a").mouseover(function() {
                var title = $(this).attr('href');
                $(this).attr("title", title);
            });
        })
    </script>




<div class="bdsharebuttonbox">
	<a href="#" class="fx fa-weibo bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a>
	<a href="#" class="fx fa-weixin bds_weixin" data-cmd="weixin" title="分享到微信"></a>
	<a href="#" class="fx fa-qq bds_sqq" data-cmd="sqq" title="分享到QQ好友"></a>
	<a href="#" class="fx fa-facebook-official bds_fbook" data-cmd="fbook" title="分享到Facebook"></a>
	<a href="#" class="fx fa-twitter bds_twi" data-cmd="twi" title="分享到Twitter"></a>
	<a href="#" class="fx fa-linkedin bds_linkedin" data-cmd="linkedin" title="分享到linkedin"></a>
	<a href="#" class="fx fa-files-o bds_copy" data-cmd="copy" title="分享到复制网址"></a>
</div>
<script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"2","bdSize":"24"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script>




    
        <section class="changyan" id="comments">
  <!--<div id="uyan_frame"></div>-->
  <div id="SOHUCS"></div>
  <script charset="utf-8" type="text/javascript" src="https://changyan.sohu.com/upload/changyan.js"></script>
  <script type="text/javascript">
    window.changyan.api.config({
      appid: 'cytgVLEw0',
      conf: '3dd585905d0465ff1e65d0823df3763e'
    });
  </script>
</section>
    



    <div class="scroll" id="post-nav-button">
        
            <a  href="/2017/11/important Ideas.html" title="上一篇: 编程方法小汇总">
                <i class="fa fa-angle-left"></i>
            </a>
        
        <a title="文章列表"><i class="fa fa-bars"></i><i class="fa fa-times"></i></a>
        
            <a  href="/2017/11/CSS技巧.html" title="下一篇: CSS小技巧">
                <i class="fa fa-angle-right"></i>
            </a>
        
    </div>
    <ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2017/11/JavaScript之V8引擎.html">JavaScript之V8引擎</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/2018.01.28 The Tipping Point.html">The Tipping Point</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/2018.01.21 磁盘格式.html">磁盘格式</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/12/2017.12.08 Amour.html">Amour-影评</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/12/2017.12.05 js中一些方法的比较与区别.html">Js中一些相似方法/属性的区别</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/12/2017.12.04 彗星来的那一夜-影评.html">彗星来的那一夜-影评</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/12/2017.12.04 寂静岭-影评.html">寂静岭-影评</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/12/2017.12.04 狩猎-影评.html">狩猎-影评</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/2017.11.25 JavaScript之V8引擎.html">JavaScript之V8引擎</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/2017.11.22-变化-个人感悟.html">变化</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/2017.11.19-分享-幸存者偏见.html">幸存者偏见</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/2017.11.16 vue数据交互.html">Vue</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/2017.11.16-学习笔记.html">JavaScript学习笔记</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/2017.11.12-前端开发相关.html">前端开发相关</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/2017.11.10-智力题总结.html">智力题总结</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/2017.11.9-前端面试.html">前端面试总结</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/2017.11.09 诗与远方.html">诗与远方</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/练习题.html">前端练习题</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/滕王阁的修建者--滕王李元婴.html">说说滕王阁的修建者——“混蛋王爷”李元婴</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/正则表达式.html">正则表达式</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/框架.html">框架</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/杂.html">杂记</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/有感而记.html">有感而记</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/星巴克.html">从星巴克的商业模式中看出几个问题</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/后端网络笔记.html">后端网络笔记</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/前端基础题总结.html">前端基础题总结</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/人生启迪发人深省.html">人生启迪</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/事件.html">绑定事件</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/专业必备技能.html">计算机发展+Git简单使用+markdown简单语法</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/What is the server.html">那年那器那些事</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/Webpack.html">Webpack学习笔记</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/relative.html">编程相关-杂（Relative）</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/npm.html">Npm相关问题</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/Math.floor()方法.html">Math.floor()等方法的用法</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/js笔记.html">Js笔记</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/js模式-读书笔记.html">Js模式读书笔记</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/jQuery.html">JQuery</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/important Ideas.html">编程方法小汇总</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/DOM.html">浏览器之DOM</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/CSS技巧.html">CSS小技巧</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/CSS3中transform的加速问题.html">使用CSS3开启GPU硬件加速提升网站动画渲染性能</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/CSS3-选择器的使用.html">CSS3选择器的使用方法</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/CSS3-简介.html">CSS3新增加的功能和属性方法--之选择器</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/CSS3-动画的使用.html">CSS3动画的使用方法</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/code.html">Html标签举例</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/book.html">Book</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/2017.11.3-This is us-TV.html">This Is Us</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/2017.11.2-第一次就把事情做好.html">第一次就把事情做好！</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/2017.11.1-CSS3-景深详解.html">CSS3---景深详解</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/2017.10.29-科学上网.html">科学上网</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/2017.10.28-win10系统相关.html">Win10计算机系统相关系列问题</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/前端算法代码实现.html">前端算法JavaScript代码实现</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/2017.10.26今日事，古人的智慧.html">今日事</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/2017.10.17个人日记.html">个人日记</a></li></ul>
    <script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
    <script>
        $(".post-list").addClass("toc-article");
        // $(".post-list-item a").attr("target","_blank");
        $("#post-nav-button > a:nth-child(2)").click(function() {
            $(".fa-bars, .fa-times").toggle();
            $(".post-list").toggle(300);
            if ($(".toc").length > 0) {
                $("#toc, #tocButton").toggle(200, function() {
                    if ($(".switch-area").is(":visible")) {
                        $("#toc, .switch-btn, .switch-area").toggle();
                        $("#tocButton").attr("value", valueHide);
                        }
                    })
            }
            else {
                $(".switch-btn, .switch-area").fadeToggle(300);
            }
        })
    </script>




    <script>
        
    </script>

</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                &copy; 2019 Dexinser
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank">Hexo</a><a href="https://github.com/dexinser" target="_blank">Blog</a> by Dexinser
            </div>
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" >极客到访数: 
                            <span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>, </span>
                
                
                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit">本页阅读量: 
                            <span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>

    </div>
    <script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
<script src="/js/main.js"></script>

    <script>
        $(document).ready(function() {
            var backgroundnum = 4;
            var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
            $("#mobile-nav").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
            $(".left-col").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
        })
    </script>


<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'xxxxx', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->



	<script>
	var _hmt = _hmt || [];
	(function() {
	  var hm = document.createElement("script");
	  hm.src = "//hm.baidu.com/hm.js?xxxxxx";
	  var s = document.getElementsByTagName("script")[0]; 
	  s.parentNode.insertBefore(hm, s);
	})();
	</script>



<div class="scroll" id="scroll">
    <a href="#"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments"><i class="fa fa-comments-o"></i></a>
    <a href="#footer"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    $(document).ready(function() {
        if ($("#comments").length < 1) {
            $("#scroll > a:nth-child(2)").hide();
        };
    })
</script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

  <script language="javascript">
    $(function() {
        $("a[title]").each(function() {
            var a = $(this);
            var title = a.attr('title');
            if (title == undefined || title == "") return;
            a.data('title', title).removeAttr('title').hover(
            function() {
                var offset = a.offset();
                $("<div id=\"anchortitlecontainer\"></div>").appendTo($("body")).html(title).css({
                    top: offset.top - a.outerHeight() - 15,
                    left: offset.left + a.outerWidth()/2 + 1
                }).fadeIn(function() {
                    var pop = $(this);
                    setTimeout(function() {
                        pop.remove();
                    }, pop.text().length * 800);
                });
            }, function() {
                $("#anchortitlecontainer").remove();
            });
        });
    });
</script>


  </div>
</body>
</html>