<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="baidu-site-verification" content="L6Lm9d5Crl"/>
  
  
  
  
  <title>To die or not to die, this is a question~</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="分享Web前端开发，自我提升，前端工程师必备技能使用方法等的原创或者转载文章~">
<meta property="og:type" content="website">
<meta property="og:title" content="To die or not to die, this is a question~">
<meta property="og:url" content="http://indexcode.cn/page/2/index.html">
<meta property="og:site_name" content="To die or not to die, this is a question~">
<meta property="og:description" content="分享Web前端开发，自我提升，前端工程师必备技能使用方法等的原创或者转载文章~">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="To die or not to die, this is a question~">
<meta name="twitter:description" content="分享Web前端开发，自我提升，前端工程师必备技能使用方法等的原创或者转载文章~">
  
    <link rel="alternative" href="/atom.xml" title="To die or not to die, this is a question~" type="application/atom+xml">
  
  
    <link rel="icon" href="/img/favicon.png">
  
  
  <link rel="stylesheet" href="//cdn.bootcss.com/animate.css/3.5.0/animate.min.css">
  
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  
    
    
  
  
      <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  
  <!-- 加载特效 -->
    <script src="/js/pace.js"></script>
    <link href="/css/pace/pace-theme-flash.css" rel="stylesheet" />
  <script>
      var yiliaConfig = {
          fancybox: true,
          animate: true,
          isHome: true,
          isPost: false,
          isArchive: false,
          isTag: false,
          isCategory: false,
          open_in_new: false
      }
  </script>
</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
        <a href="/" class="profilepic">
            
            <img lazy-src="/img/avatar.jpeg" class="js-avatar">
            
        </a>
        <hgroup>
          <h1 class="header-author"><a href="/">Dexinser</a></h1>
        </hgroup>
        
        <p class="header-subtitle">不想成为架构师的程序员不是一个好的程序员~</p>
        
        
            <form>
                <input type="text" class="st-default-search-input search" id="local-search-input" placeholder=" Search...">
            </form>
            <div id="local-search-result"></div>
        
        
            <script type="text/javascript">
                (function() {
                    'use strict';
                    function getMatchData(keyword, data) {
                        var matchData = [];
                        for(var i =0;i<data.length;i++){
                            if(data[i].title.toLowerCase().indexOf(keyword)>=0) 
                                matchData.push(data[i])
                        }
                        return matchData;
                    }
                    var $input = $('#local-search-input');
                    var $resultContent = $('#local-search-result');
                    $input.keyup(function(){
                        $.ajax({
                            url: '/search.json',
                            dataType: "json",
                            success: function( json ) {
                                var str='<ul class=\"search-result-list\">';                
                                var keyword = $input.val().trim().toLowerCase();
                                $resultContent.innerHTML = "";
                                if ($input.val().trim().length <= 0) {
                                    $resultContent.empty();
                                    $('#switch-area').show();
                                    return;
                                }
                                var results = getMatchData(keyword, json);
                                if(results.length === 0){
                                    $resultContent.empty();
                                    $('#switch-area').show();
                                    return;
                                } 
                                for(var i =0; i<results.length; i++){
                                    str += "<li><a href='"+ results[i].url +"' class='search-result-title'>"+ results[i].title +"</a></li>";
                                }
                                str += "</ul>";
                                $resultContent.empty();
                                $resultContent.append(str);
                                $('#switch-area').hide();
                            }
                        });
                    });
                })();
            </script>
        
        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        <li>友情链接</li>
                        
                        
                        <li>关于我</li>
                        
                    </ul>
                </div>
            </div>
        
        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a  href="/archives/">所有文章</a></li>
                        
                            <li><a  href="/categories/开发工具/">玩转开发工具</a></li>
                        
                            <li><a  href="/categories/资源分享/">资源分享</a></li>
                        
                            <li><a  href="/categories/学习笔记/">学习笔记</a></li>
                        
                            <li><a  href="/categories/基础方法分享/">基础方法分享</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fl github"  target="_blank" href="https://github.com/Dexinser" title="github">github</a>
                            
                                <a class="fl weibo"  target="_blank" href="http://weibo.com/5223005381/profile?topnav=1&wvr=6&is_all=1" title="weibo">weibo</a>
                            
                                <a class="fl rss"  target="_blank" href="/atom.xml" title="rss">rss</a>
                            
                        </ul>
                    </nav>
                </section>
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <a href="/tags/CSS/" style="font-size: 10px;">CSS</a> <a href="/tags/CSS3/" style="font-size: 17.5px;">CSS3</a> <a href="/tags/JavaScript/" style="font-size: 20px;">JavaScript</a> <a href="/tags/TV/" style="font-size: 10px;">TV</a> <a href="/tags/book/" style="font-size: 12.5px;">book</a> <a href="/tags/node/" style="font-size: 10px;">node</a> <a href="/tags/others/" style="font-size: 10px;">others</a> <a href="/tags/个人分享/" style="font-size: 15px;">个人分享</a> <a href="/tags/个人感悟/" style="font-size: 12.5px;">个人感悟</a> <a href="/tags/个人日记/" style="font-size: 12.5px;">个人日记</a> <a href="/tags/前端/" style="font-size: 10px;">前端</a> <a href="/tags/历史故事/" style="font-size: 10px;">历史故事</a> <a href="/tags/后端/" style="font-size: 10px;">后端</a> <a href="/tags/商业问题/" style="font-size: 10px;">商业问题</a> <a href="/tags/学习笔记/" style="font-size: 12.5px;">学习笔记</a> <a href="/tags/影视人生/" style="font-size: 12.5px;">影视人生</a> <a href="/tags/影评/" style="font-size: 10px;">影评</a> <a href="/tags/思维能力/" style="font-size: 10px;">思维能力</a> <a href="/tags/杂/" style="font-size: 10px;">杂</a> <a href="/tags/框架/" style="font-size: 10px;">框架</a> <a href="/tags/笔试/" style="font-size: 10px;">笔试</a> <a href="/tags/计算机基础/" style="font-size: 10px;">计算机基础</a> <a href="/tags/计算机系统/" style="font-size: 10px;">计算机系统</a> <a href="/tags/认知提升/" style="font-size: 17.5px;">认知提升</a> <a href="/tags/诗与远方/" style="font-size: 10px;">诗与远方</a> <a href="/tags/资源分享/" style="font-size: 10px;">资源分享</a>
                    </div>
                </section>
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://my.csdn.net/my/mycsdn">csdn</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="https://segmentfault.com/u/dexinser">segmentfault</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://www.jianshu.com/users/c1794d13eba9/timeline">简书</a>
                    
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">走在路上，看风景，品人生；世间美好如此之多，何必去想那些不开心的事儿呢~</div>
                </section>
                
            </div>
        </div>
    </header>
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页">Dexinser</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                
                    <img lazy-src="/img/avatar.jpeg" class="js-avatar">
                
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="回到主页">Dexinser</a></h1>
            </hgroup>
            
            <p class="header-subtitle">不想成为架构师的程序员不是一个好的程序员~</p>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/archives/">所有文章</a></li>
                
                    <li><a href="/categories/开发工具/">玩转开发工具</a></li>
                
                    <li><a href="/categories/资源分享/">资源分享</a></li>
                
                    <li><a href="/categories/学习笔记/">学习笔记</a></li>
                
                    <li><a href="/categories/基础方法分享/">基础方法分享</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                <div class="social">
                    
                        <a class="github" target="_blank" href="https://github.com/Dexinser" title="github">github</a>
                    
                        <a class="weibo" target="_blank" href="http://weibo.com/5223005381/profile?topnav=1&wvr=6&is_all=1" title="weibo">weibo</a>
                    
                        <a class="rss" target="_blank" href="/atom.xml" title="rss">rss</a>
                    
                </div>
            </nav>
        </header>                
    </div>
</nav>
      <div class="body-wrap">
  
    <article id="post-2017/11/2017.11.25 JavaScript之V8引擎" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2017/11/2017.11.25 JavaScript之V8引擎.html" class="article-date">
      <time datetime="2017-11-25T11:47:31.703Z" itemprop="datePublished">2017-11-25</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2017/11/2017.11.25 JavaScript之V8引擎.html">JavaScript之V8引擎</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p><strong>JavaScript之V8引擎</strong>     <Excerpt in index | 首页摘要><br>V8是由拉里·佩奇、谢尔盖·布林创办的以搜索引擎和线上广告技术闻名、全球最大的网络公司Google研发的开源JavaScript浏览器引擎，用于Google Chrome中。<br>V8在执行之前将JavaScript代码编译成机器码让计算机识别执行，而非字节码或者直译它，以此来提升效能，JavaScript程序与V8引擎的速度可以媲美二进制编译。在高性能JavaScript一书中作者有比较V8引擎与其他语言的执行速度，作者列成了图表很清楚的显示出JavaScript引擎V8不俗的执行速度。</p>
<p>V8是Google Chrome浏览器内置的JavaScript脚本引擎。<br>Google Chrome使用V8的API，但引擎的内核部分是独立于浏览器之外的。<br>V8引擎编译和执行JavaScript源代码。<br>速度是V8引擎追求的主要设计目标之一，它把JavaScript代码直接编译成机器码运行，比起传统的“中间代码 + 解释器”的引擎，优势不言而喻。<br>V8引擎的团队说Chrome对脚本的解析和执行速度是Firefox和Safari的10倍，是IE的56倍。当然了，自夸自家的瓜甜，都是这样的嘛~最近不是新出了Safari又比Google Chrome快了80%的速度吗~但是只是因为Safari更新的比较快，优化了最新的ES6，所以与之前未做优化的Chrome相比快了不少~也是真能吹牛哈~</p>
<hr>
<p>正是由于V8的高性能，所以基于nodejs开发的引擎就是V8引擎。</p>
<hr>
<p>V8 是一个全新的 JavaScript 引擎，它在设计之初就以高效地执行大型的 JavaScript 应用程序为目的。V8的JavaScript渲染引擎亮点在于更快速更强壮的JavaScript解析。V8是一个非常反传统的JavaScript引擎，它能够在后台动态的对JS的对象进行分类——一个在其他高级语言中很常见但JS本身不支持的特性。V8对JS的解析不是基于反复loop源代码进行解释而是直接将JS代码编译成机器码运行。换句话说，V8引擎实际上可以看做是JS的扩展和编译器——而传统上类似于JS的解释型语言恰恰是不需要编译器的。最后，高级语言的内存管理效能一直是决定其运行效率的重要因素，而当前的JS虚拟机在这方面做的比较基本，对内存的回收也非常保守。V8使用的是非常强势的内存管理策略，一切在运行堆栈里无用的数据都会被强行回收，从而可以大大提高JS代码的运行效率。<br>在一些性能测试中，V8 比 Internet Explorer 的 JScript 、Firefox 中的 SpiderMonkey 以及 Safari 中的 JavaScriptCore 要快上数倍。如果你的 web 程序的瓶颈在于 JavaScript 的运行效率，用 V8 代替你现在的 JavaScript 引擎很可能可以提升你的程序的运行效率。具体会有多大的性能提升依赖于程序执行了多少 JavaScript 代码以及这些代码本身的性质。比如，如果你的程序中的函数会被反复执行很多遍的话，性能提升通常会比较大，反过来，如果代码中有很多不同的函数并且都只会被调用一次左右，那么性能提升就不会那么明显了。</p>
<p>和Mozilla的SpiderMonkey一样，Google Chrome浏览器的JavaScript引擎Google V8也是一个开源的独立引擎，可内嵌于任何C++工程之中。</p>
<blockquote>
<p>速度是V8追求的主要设计目标之一，它把JavaScript代码直接编译成机器码运行，比起传统的“中间代码+解释器”的引擎，优势不言而喻。在SunSpider测试中，V8的综合表现是最好的。据说Mozilla正在开发的TraceMonkey比V8还要快20%左右，可惜尚未完工。</p>
</blockquote>
<h1 id="JavaScript的发展"><a href="#JavaScript的发展" class="headerlink" title="JavaScript的发展"></a>JavaScript的发展</h1><blockquote>
<p>Netscape Navigator 在 90 在年代中期对 JavaScript 进行了集成，这让网页开发人员对 HTML 页面中诸如 form 、frame 和 image 之类的元素的访问变得非常容易。由此 JavaScript 很快成为了用于定制控件和添加动画的工具，到 90 年代后期的时候，大部分的 JavaScript 脚本仅仅完成像“根据用户的鼠标动作把一幅图换成另一幅图”这样简单的功能。</p>
<p>随着最近 AJAX 技术的兴起，JavaScript 现在已经变成了实现基于 web 的应用程序（例如我们自己的 Gmail）的核心技术。JavaScript 程序从聊聊几行变成数百 KB 的代码。JavaScript 被设计于完成一些特定的任务，虽然 JavaScript 在做这些事情的时候通常都很高效，但是性能已经逐渐成为进一步用 JavaScript 开发复杂的基于 web 的应用程序的瓶颈。</p>
<p>V8 是一个全新的 JavaScript 引擎，它在设计之初就以高效地执行大型的 JavaScript 应用程序为目的。在一些性能测试中，V8 比 Internet Explorer 的 JScript 、Firefox 中的 SpiderMonkey 以及 Safari 中的 JavaScriptCore 要快上数倍。如果你的 web 程序的瓶颈在于 JavaScript 的运行效率，用 V8 代替你现在的 JavaScript 引擎很可能可以提升你的程序的运行效率。具体会有多大的性能提升依赖于程序执行了多少 JavaScript 代码以及这些代码本身的性质。比如，如果你的程序中的函数会被反复执行很多遍的话，性能提升通常会比较大，反过来，如果代码中有很多不同的函数并且都只会被调用一次左右，那么性能提升就不会那么明显了。其中的原因在你读过这份文档余下的部分之后就会明白了。</p>
</blockquote>
<h1 id="V8-的性能提升主要来自三个关键部分："><a href="#V8-的性能提升主要来自三个关键部分：" class="headerlink" title="V8 的性能提升主要来自三个关键部分："></a>V8 的性能提升主要来自三个关键部分：</h1><ol>
<li>快速属性访问</li>
<li>动态机器码生成</li>
<li>高效的垃圾收集</li>
</ol>
<h2 id="快速属性访问"><a href="#快速属性访问" class="headerlink" title="快速属性访问"></a>快速属性访问</h2><p>JavaScript 是一门动态语言，属性可以在运行时添加到或从对象中删除。这意味着对象的属性经常会发生变化。大部分 JavaScript 引擎都使用一个类似于字典的数据结构来存储对象的属性，这样每次访问对象的属性都需要进行一次动态的字典查找来获取属性在内存中的位置。这种实现方式让 JavaScript 中属性的访问比诸如 Java 和 Smalltalk 这样的语言中的成员变量的访问慢了许多。成员变量在内存中的位置离对象的地址的距离是固定的，这个偏移量由编译器在编译的时候根据对象的类的定义决定下来。因此对成员变量的访问只是一个简单的内存读取或写入的操作，通常只需要一条指令即可。</p>
<p>为了减少 JavaScript 中访问属性所花的时间，V8 采用了和动态查找完全不同的技术来实现属性的访问：动态地为对象创建隐藏类。这并不是什么新的想法，基于原型的编程语言 Self 就用 map 来实现了类似的功能（参见 An Efficient Implementation of Self, a Dynamically-Typed Object-Oriented Language Based on Prototypes ）而且JavaScript在创建之初因为是赶时间赶出来的（10天的时间，而且还是Brendan Eich为了应付公司安排的任务的~），所以也正是借鉴了很多语言的长处，也就是上面所说的self语言和C语言等等（有一句话说的好：与其说我爱JavaScript，不如说我恨她；她是C语言和Self语言一夜情的产物。十八世纪英国文学家约翰逊博士说得好：“她的优秀之处并非原创，她的原创之处并不优秀”）。在 V8 里，当一个新的属性被添加到对象中时，对象所对应的隐藏类会随之改变。</p>
<p>下面我们用一个简单的 JavaScript 函数来加以说明：</p>
<p><code>function Point(x, y) {
    this.x = x;
    this.y = y;
}</code></p>
<p>当 new Point(x, y) 执行的时候，一个新的 Point 对象会被创建出来。如果这是 Point 对象第一次被创建，V8 会为它初始化一个隐藏类，不妨称作 C0。因为这个对象还没有定义任何属性，所以这个初始类是一个空类。到这个时候为止，对象 Point 的隐藏类是 C0。</p>
<p>map_trans_a<br>执行函数 Point 中的第一条语句（this.x = x;）会为对象 Point 创建一个新的属性 x。此时，V8 会：<br>在 C0 的基础上创建另一个隐藏类 C1，并将属性 x 的信息添加到 C1 中：这个属性的值会被存储在距 Point 对象的偏移量为 0 的地方。<br>在 C0 中添加适当的类转移信息，使得当有另外的以其为隐藏类的对象在添加了属性 x 之后能够找到 C1 作为新的隐藏类。此时对象 Point 的隐藏类被更新为 C1。</p>
<ol>
<li>map_trans_b<br>执行函数 Point 中的第二条语句（this.y = y;）会添加一个新的属性 y 到对象 Point 中。同理，此时 V8 会：<br>在 C1 的基础上创建另一个隐藏类 C2，并在 C2 中添加关于属性 y 的信息：这个属性将被存储在内存中离 Point 对象的偏移量为 1 的地方。<br>在 C1 中添加适当的类转移信息，使得当有另外的以其为隐藏类的对象在添加了属性 y 之后能够找到 C2 作为新的隐藏类。此时对象 Point 的隐藏类被更新为 C2。</li>
<li>map_trans_c<br>咋一看似乎每次添加一个属性都创建一个新的隐藏类非常低效。实际上，利用类转移信息，隐藏类可以被重用。下次创建一个 Point 对象的时候，就可以直接共享由最初那个 Point 对象所创建出来的隐藏类。例如，如果又一个 Point 对象被创建出来了：<br>一开始 Point 对象没有任何属性，它的隐藏类将会被设置为 C0。<br>当属性 x 被添加到对象中的时候，V8 通过 C0 到 C1 的类转移信息将对象的隐藏类更新为 C1 ，并直接将 x 的属性值写入到由 C1 所指定的位置（偏移量 0）。<br>当属性 y 被添加到对象中的时候，V8 又通过 C1 到 C2 的类转移信息将对象的隐藏类更新为 C2，并直接将 y 的属性值写入到由 C2 所指定的位置（偏移量 1）。</li>
</ol>
<p>尽管 JavaScript 比通常的面向对象的编程语言都要更加动态一些，然而大部分的 JavaScript 程序都会表现出像上述描述的那样的运行时高度结构重用的行为特征来。使用隐藏类主要有两个好处：属性访问不再需要动态字典查找了；为 V8 使用经典的基于类的优化和内联缓存技术创造了条件。</p>
<h2 id="动态机器码生成"><a href="#动态机器码生成" class="headerlink" title="动态机器码生成"></a>动态机器码生成</h2><p>V8 在第一次执行 JavaScript 代码的时候会将其直接编译为本地机器码，而不是使用中间字节码的形式，因此也没有解释器的存在。属性访问由内联缓存代码来完成，这些代码通常会在运行时由 V8 修改为合适的机器指令。</p>
<p>在第一次执行到访问某个对象的属性的代码时，V8 会找出对象当前的隐藏类。同时，V8 会假设在相同代码段里的其他所有对象的属性访问都由这个隐藏类进行描述，并修改相应的内联代码让他们直接使用这个隐藏类。当 V8 预测正确的时候，属性值的存取仅需一条指令即可完成。如果预测失败了，V8 会再次修改内联代码并移除刚才加入的内联优化。</p>
<p>例如，访问一个 Point 对象的 x 属性的代码如下：</p>
<p>point.x</p>
<p>在 V8 中，对应生成的机器码如下：</p>
<p><code>; ebx = the point objectcmp [ebx, &lt;hidden class offset&gt;], &lt;cached hidden class&gt;
jne &lt;inline cache miss&gt;
mov eax, [ebx, &lt;cached x offset&gt;]</code></p>
<p>如果对象的隐藏类和缓存的隐藏类不一样，执行会跳转到 V8 运行系统中处理内联缓存预测失败的地方，在那里原来的内联代码会被修改以移除相应的内联缓存优化。如果预测成功了，属性 x 的值会被直接读出来。</p>
<p>当有许多对象共享同一个隐藏类的时候，这样的实现方式下属性的访问速度可以接近大多数动态语言。使用内联缓存代码和隐藏类实现属性访问的方式和动态代码生成和优化的方式结合起来，让大部分 JavaScript 代码的运行效率得以大幅提升。</p>
<h2 id="高效的垃圾回收机制"><a href="#高效的垃圾回收机制" class="headerlink" title="高效的垃圾回收机制"></a>高效的垃圾回收机制</h2><p>V8 会自动回收不再被对象使用的内存，这个过程通常被称为“垃圾收集（Garbage Collection）”。为了保证快速的对象分配和缩短由垃圾收集造成的停顿，并杜绝内存碎片，V8 使用了一个 stop-the-world, generational, accurate 的垃圾收集器，换句话说，V8 的垃圾收集器：</p>
<ol>
<li>在执行垃圾回收的时候会中断程序的执行。</li>
<li>大部分情况下，每个垃圾收集周期只处理整个对象堆的一部分，这让程序中断造成的影响得以减轻。</li>
<li>总是知道内存中所有的对象和指针所在的位置，这避免了非 accurate 的垃圾收集器中普遍存在的由于错误地把对象当作指针而造成的内存溢出的情况。</li>
</ol>
<p>在 V8 中，对象堆被分成两部分：用于为新创建的对象分配空间的部分和用于存放在垃圾收集周期中生存下来的那些老的对象的部分。如果一个对象在垃圾收集的过程中被移动了，V8 会更新所有指向这个对象的指针到新的地址。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/认知提升/">认知提升</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/">JavaScript</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
    <article id="post-2017/11/2017.11.22-变化-个人感悟" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2017/11/2017.11.22-变化-个人感悟.html" class="article-date">
      <time datetime="2017-11-22T10:18:49.645Z" itemprop="datePublished">2017-11-22</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2017/11/2017.11.22-变化-个人感悟.html">变化</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p><strong>变化</strong>   <Excerpt in index | 首页摘要><br>最近挺多时间都在看一些博客。看的最多的当属<strong>编程随想</strong>的博客了，看了这位大神写的关于计算机的好多东西，感觉收获好多，而且边看边觉的这个大神过的日子真是爽歪歪啊。可以在网上随意的发言，想说什么就说什么，不论敏感与否发表自己的看法，而且现在做的事情是自己最喜欢的工作。真是羡煞旁人啊~当然做这些的基础他也分析了，想要这样做，你还要懂得相当多的计算机的知识啊！感觉自己现在技术上还是相关的知识上还是有太多的不足啊~在阅读大神博客的时候，遇到不懂的知识我总要问一下度娘，查阅一些相关的术语，由于浏览最近浏览网页的时间很长，所以网页上的轮播图类的广告推广真的是很影响阅读啊！这就是我今天写这篇博客的原因啦~<br>给大家介绍一个屏蔽网页广告的软件，ADSafe，并且由这个软件引发了一系列的引人思考的东西~大家也可以思考一下如今的时代下广告带给我们的利弊和一系列其他的问题。</p>
<h1 id="ADSafe"><a href="#ADSafe" class="headerlink" title="ADSafe"></a>ADSafe</h1><p>首先介绍一下这款软件吧，这是一款可以拦截所有浏览器及视频广告，偶尔有些无法拦截的，可以自定义一下。它的自定义功能很强，能完全满足我们的需要。是由上海大摩网络科技有限公司开发的，这是一家位于上海的小公司。是个公司就要生产产品，目标就是要实现盈利，比如这家小公司，开发的这款软件真的是很好用，但是他的盈利点在哪儿呢？在网上搜索了一下，官网都没有说呢，但是在别的地方例如贴吧和个人博客等等都提及到了他的盈利点，就是隐式的注入他自己的广告。有一句话说的好，贼喊捉贼，灯下黑~真是让人不敢相信啊！遇见了这个问题，有一些人选择了立马卸载，有一些人选择了谅解和支持。透过这个问题让我想到了如今火爆非常的盗版..<br>那我们今天就来聊一聊这个盗版问题吧~<br>说起盗版或者说山寨，有人欢喜有人忧啊~欢喜的是不用花钱就能玩到开发者好不容易开发出的游戏或者其他产品，忧愁的又是谁呢？当然是开发者了，浪费了大量的人力物力，最后竹篮打水一场空，被别人非常轻易的模仿了/抄袭了..一些非常优秀的产品追其本意本就应该是让人使用的，但是开发者浪费了如此大的人力物力的成本，难道不应该为这些付出的汗水得到一些回报吗？美国自由软件运动的精神领袖理查德·马修·斯托曼，他被血多人誉为当今自由如那件的斗士、伟大的理想主义者，但同时也有好多人批评他过于固执、观点落伍。确实，在商业中的话，他就是一个固执的盈不了利的商人，但是如果在如今的现实中的话，免费软件还是非常受欢迎的。这也导致了很多商业游戏公司或者其他的一些以互联网产品为盈利的产品走向了终结，例如：在互联网初期的单机游戏是非常火爆的，而且出现了很多成功的以开发单机游戏的游戏公司，但是没过多久，随着盗版产品的猖獗，越来越多的单机游戏被盗版游戏所取代，卖不出去的单机游戏公司最后的结局相信大家都能看到了..想当时，出现了多少经典优秀的单机游戏，而现在，因为所有的东西总离不开利益的驱使，当单机游戏的开发利益与付出不成正比的时候，那么资本把这个产业弃掉也就不令人感到意外了。所以如今的游戏开发变成了什么呢？变成了网络游戏，必须连上网才能进去游戏，这样就没有了盗版这一途径的污染了，但是又出现了抄袭的风险，例如腾讯的游戏，被大众说成是什么游戏火就抄什么游戏，因为腾讯掌握着用户这把无往不利的利器，任何人都斗不过他..渠道为王的时代，也就不意外前几天报道腾讯的市值已经超半万亿美元了。</p>
<h1 id="有利有弊"><a href="#有利有弊" class="headerlink" title="有利有弊"></a>有利有弊</h1><p>对啊，什么事情都是有利有弊的，也许时代会回答我们的疑问，等着未来的答案吧。也许现在我们认为的弊端到了未来就成为有利的条件了。万物都不绝对，事件的两面性我们在很小的时候就懂了，不过我们真正的认识到这个事实是很难的..由理查德·斯托曼在1983年启动的GUN系统计划，带给了我们多么大的利处，发明了目前最好的操作系统，Linux的出现，运行于用户空间的软件，都可以在Linux上使用，Linux操作系统的诞生，不是一个人的力量，而是互联网史上最大规模的团队合作，而且是无偿的团队合作，完全是出自团队成员之间的编程乐趣，而这样造就出来的操作系统却成为了世上最优秀的系统，让我们感到惊奇的同时又让我们感到确实应该是这样的结果。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/资源分享/">资源分享</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/个人感悟/">个人感悟</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
    <article id="post-2017/11/2017.11.19-分享-幸存者偏见" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2017/11/2017.11.19-分享-幸存者偏见.html" class="article-date">
      <time datetime="2017-11-19T13:45:03.712Z" itemprop="datePublished">2017-11-19</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2017/11/2017.11.19-分享-幸存者偏见.html">幸存者偏见</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p><strong>幸存者偏见</strong>   <Excerpt in index | 首页摘要></p>
<p>今天看<strong>编程随想</strong>大神的博客，又涨了点儿姿势，分享给大家吧~<br>先说一个“股神”–巴菲特在1984年哥伦比亚大学的演讲，是为了纪念《证券分析》出版50周年的。</p>
<blockquote>
<p>我要各位设想—场全国性的抛硬币大赛。让我们假定，全美国2.25亿人，在明天早晨起床时都掷一枚硬币，并猜硬币出现的正面或反面。如果猜对了，他们将从猜错者的手中赢得一美元。而猜错的人则被淘汰。每天都有输家遭到淘汰，奖金则不断地累积。经过十个早晨的十次投掷之后，全美国约有22万人连续十次猜对抛硬币的结果。每人所赢得的资金约1000多美元。现在，这群人可能会开始炫耀自己的战绩，此乃人的天性使然。即使他们仍保持谦虚的态度，但在鸡尾酒会中，他们偶尔会以此技巧吸引异性的注意，并炫耀他们对抛硬币的奇特洞察力。游戏继续进行，再经过十天，约有215个人连续20次猜对抛硬币的结果，并且每个人赢得大约100万美元的奖金。输家总共付出2.25亿美元，赢家则得到2.25亿美元。这时候，这群赢家会完全沉迷在自己的成就中——他们可能开始著书立说：“我如何每天早晨工作30秒，并在20天之内将—美元变成100万美元。”更糟的是，他们会在全国各地主办培训班，宣传如何有效地抛硬币。对那些持怀疑态度的学者，他们会反驳说：“如果你认为这是不可能的，该如何解释，为什么会有我们这215个人呢？”但是，某些商学院的教授可能会粗鲁地指出—个事实——假如让2.25亿只猩猩参加这场比赛，结果大致上也是如此——会有215只猩猩连续赢得20次的投掷。</p>
<p>然而，我必须说明，前述事例和我即将提出的案例，两者之间存在着若干重大差异。首先，<br>(a)如果你所选择的2.25亿只猩猩的分布状况大致上和美国的人口分布相同；<br>(b)如果经过20天的竞赛，只剩下215只赢家；<br>(c)如果你发现其中有40只猩猩来自于奥马哈的某个动物园，则其中必有蹊跷。</p>
<p>于是，你会询问该动物园的猩猩管理员，问此人各种问题。比如给这些猩猩吃什么饲料？这些猩猩是否做某些特殊的运动？是否看了什么书籍？……<br>换言之，如果你发现成功案例有非比寻常的集中现象，则你希望判定此异常的特色是否是成功的原因。</p>
<p>科学的调查也遵循此一形态。如果你试图分析某种罕见癌症的原因——例如，美国每年只有1500个病例——而你发现蒙大拿州的某个矿区小镇便产生400个病例，则你必然对当地的饮水、病患的职业或其他种种变数产生兴趣。你知道，在—个小镇中发生400个病例，绝不是随机因素所造成。虽然你未必了解病因，但你知道从哪里着手调查。</p>
<p>除了地理，还有其他方式可以界定起源。除了地理的起源，还有我所谓“智力的起源”。我认为各位将会在投资领域中发现——不成比例的抛硬币赢家来自于一个极小的智力村庄．它可以称为“格雷厄姆一多德都市”。这个特殊智力村存在着许多赢家．这种集中现象绝非巧合所能够解释。</p>
<p>在某些情况下，即使非比寻常的集中现象也可能不重要。或许有100个只是模仿某一位极具说服力的领导者，而依其主张来猜测硬币的投掷结果。当他猜正面，这100个追随者也会自动地做相同的猜测。如果这一位领导者是属于最后215位赢家之一，则这100也便属于同一个智力起源，这项事实便不具有任何意义，因为100个案例实际上只代表一个案例。同理，假定你生活在一个父权结构极为严密的社会，而美国每一个家庭都恰好以父亲马首是瞻。20天之后，你将发现215位赢家是来自于21.5个家庭。若干天真的分析师可能因此而认为，成功地猜测硬币投掷的结果，其中具有高度的遗传因素。当然，这实际上不具有任何意义，因为你所拥有的不是215个独立的赢家，而只是21.5个随机分布的家庭。</p>
<p>我所要考虑的这一群成功投资者，拥有一位共同的智力族长——本杰明·格雷厄姆。但是，这些离开此智力家族的孩童，都是依据非常不同的方法猜测他们自己的“硬币”。他们各自前往不同的地方，买卖不同的股票和企业，但他们的综合绩效绝对无法用随机因素加以解释。他们做相同的猜测，并不是因为领导者下达某一项指令，因此也无法用这种方式解释他们的表现。族长只提供了猜测硬币的智力理论，每位学生都必须自行决定如何运用这项理论。<br>……</p>
</blockquote>
<p>正好我最近也想学习一下股市相关的一些东西，说不定哪一天我头脑一热就载到炒股的世界里面成为一届股神了~在这儿就给大家分享一下这个演讲的背景吧~本文开头说了，这是为了纪念《证券分析》一书的。此书被誉为“价值投资领域的圣经”；作者是“本杰明·格雷厄姆”和“大卫·多德”，两人合著的这一经典。上世纪50年代，巴菲特曾经在哥伦比亚大学选修了格雷厄姆开设的“证券分析课程”，并得了A+的成绩。据传闻：格雷厄姆在哥伦比亚大学开设这门课程22年之后，才首次有学生（巴菲特）获得A+的成绩。</p>
<p>好了，说完了股神巴菲特的故事，继续咱们的主题，幸存者偏差：所谓幸存者偏差就是只看到了 显示 出来的事实，而忽略了 隐式 的一些结果，错把 显示 的样本当成了总样本，而得出了错误的结论。在大神的博客中，介绍了几个非常典型的例子，在这里我就借鉴一下吧~</p>
<h2 id="关于打仗的例子"><a href="#关于打仗的例子" class="headerlink" title="关于打仗的例子"></a>关于打仗的例子</h2><p>话说二战时的英国空军，经常派轰炸机去袭击德国。由于德国的防空火力较猛，轰炸机损失较惨重。为了降低飞机的损失，空军的领导们决定给飞机的机身进行装甲加固。由于当时条件所限，只能用装甲加固飞机上的少数部位。<br>　　然后，英国皇家空军就着手进行研究调查。他们对执行完轰炸任务返航的飞机进行仔细的观察、分析、统计。发现一个现象：大多数的弹孔，都集中在飞机的机翼上；只有少数弹孔位于驾驶舱。<br>　　假如你负责此事，你会用装甲加固哪个部位呢？估计很多同学会想当然地说：加固机翼（因为机翼的弹孔最多）。但是答案恰恰相反，【最不需要】加固就是机翼。为啥捏？<br>　　驾驶舱的弹孔最少，说明驾驶舱一旦中弹，飞机就载了，再也回不来。所以，它才是最应该加固的部位。</p>
<h2 id="关于网站的例子"><a href="#关于网站的例子" class="headerlink" title="关于网站的例子"></a>关于网站的例子</h2><p>假设有2家网站A和B，都经营类似的业务，都有相当多的用户群。再假设它们都进行了类似的网站界面改版。结果改版之后，网站A没有得到用户的赞扬，反而遭到很多用户的臭骂；而网站B捏，既没有用户夸它，也没有用户骂它。现在，请你来判断一下，哪个网站得人心？<br>　　估计又有不少同学会想当然地认为，网站B更受欢迎，毕竟用户没骂它。但事实并非如此。<br>　　网站A虽然遭到很多用户痛骂，但至少说明，还有很多用户在乎它；而对于网站B，用户对它已经心灰意冷，无所谓了，所以啥反应也没有。<br>　　末了，俺悄悄告诉大伙儿：网站A指的是 Facebook，网站B影射微软旗下的 Live Spaces。这俩都属于 SNS 类网站。想当初，Facebook 稍微改动了隐私条款，差点被用户的口水淹死；反观 Live Spaces，界面越改越土鳖，功能越改越差劲（俺曾经使用 Live Spaces 搭建过镜像博客，对此深有体会）。但又有多少 Live Spaces 的用户去找微软投诉呢？</p>
<p>知道这个道理容易，但是真正的应用到现实生活中就没有那么简单了。因为我们看到了一个显而易见的结果之后往往就不会往深处去琢磨了，是怕累死太多的脑细胞吗？所以当我们认识到一个显而易见的答案时，要想一下有没有“沉默证据”的存在，而不要当即断言这就是真实的结果，这个时候三思而行才是硬道理啊~如果你在分析某个案例时，不清楚属于上述哪一种情况，那么你需要尝试去排除“随机性”。如果无法排除，那么你就只好认可该案例是“随机性”驱动的。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/资源分享/">资源分享</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/认知提升/">认知提升</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
    <article id="post-2017/11/2017.11.16 vue数据交互" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2017/11/2017.11.16 vue数据交互.html" class="article-date">
      <time datetime="2017-11-16T13:35:41.524Z" itemprop="datePublished">2017-11-16</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2017/11/2017.11.16 vue数据交互.html">Vue</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p><strong>Vue</strong> <Excerpt in index | 首页摘要><br>总结一下使用vue的一些方法吧~<br>用vue-cli来创建一个vue项目的过程：<br>首先在命令行工具页面输入：vue init <code>&lt;template-name&gt;</code> [project-name];之后按提示进行就行了。<br>创建成功脚手架之后打开创建成功的文件夹，在所在的文件夹下面：cnpm install 安装开发项目所需要的所有依赖；<br>npm run dev  运行本地测试开发开一个本地服务器。</p>
<h1 id="VUE中h-函数和render-函数用js的简单实现："><a href="#VUE中h-函数和render-函数用js的简单实现：" class="headerlink" title="VUE中h()函数和render()函数用js的简单实现："></a>VUE中h()函数和render()函数用js的简单实现：</h1><p><code>function vElement(tagName, prop, children){
  if(!(this instanceof vElement)){
    return new vElement(tagName, prop, children)
  }
  if(Object.prototype.toString.call(prop) === &quot;[object Array]&quot;) {
    children = prop;
    prop = {};
  }
  this.tagName = tagName;
  this.prop = prop;
  this.children = children;
  var count = 0;
  this.children.forEach(function(child, index){
    if(child instanceof vElement){
    count += this.count;
    }
    count ++;
  })
  this.count = count;
}</code></p>
<p><code>vElement.prototype.render = function(){
  var el = document.createElement(this.tagName);
  var children = this.children;
  var prop = this.prop;
  for(var item in prop){
    var curProp = prop[item];
    el.setAttribute(item, curProp);
  }
  children.forEach(function(child, index){
    if(child instanceof vElement){
    var childDom = child.render();
    }else{
    var childDom = document.createTextNode(child)
    }
    el.appendChild(childDom)
  })
  return el;
}</code></p>
<h1 id="Vue的三种模板："><a href="#Vue的三种模板：" class="headerlink" title="Vue的三种模板："></a>Vue的三种模板：</h1><p>1、html模板；–&gt;  v-html  仅仅解析html样式；但是解析不出来绑定的数据。<br>2、字符串模板；–&gt;  template  <code> </code>  可以解析出绑定的数据。可以用script标签，类型改为：x/template 加上属性名就可以用属性名来调用了。<br>3、render()函数；–&gt;  render(creatElement){var dom = creatElement(‘div’,[‘hello’,creatElemnt(‘p’,[‘world’])])};<br>创建出来之后直接return创建的对象就行了！前两个本质上都是调用render函数来创建的。但是这样创建就不能插入vue的一些指令了。</p>
<h1 id="vue中父子组件之间的交互："><a href="#vue中父子组件之间的交互：" class="headerlink" title="vue中父子组件之间的交互："></a>vue中父子组件之间的交互：</h1><p>父组件通过props的这个接口与子组件实现交互功能，具体做法是在子组件中定义一个props属性传递数据到父组件中去；子组件通过自定义事件来与父组件进行交互，通过在父组件中调用子组件中的自定义时间来完成；但是要是嵌套的层次太深，也就是父组件中有很多层的子组件，那么他们之间的交互效率就非常的慢了，为了解决这个问题我们可以用vue官方给我们的一个库来管理这些需要交互的数据—即vuex，专为vue.js应用程序开发的状态管理模式；他采用集中式存储管理应用的所有组件的状态；并以相应的规则保证状态以一种可预测的方式发生变化。</p>
<h1 id="Vue中一些类似方法比较"><a href="#Vue中一些类似方法比较" class="headerlink" title="Vue中一些类似方法比较"></a>Vue中一些类似方法比较</h1><p>计算属性computed  vs  方法mothods：<br>computed刷新的时候会缓存，更加提高性能。</p>
<p>v-show  vs  v-if<br>v-show：直接添加一个css属性display：none；要是频繁的使用这个dom节点的话，应该使用v-show，提高性能。<br>v-if： 直接删除一个dom节点</p>
<p>脚手架vue-cli，顾名思义就是一般我们自己做项目要配置的一些东西。但是脚手架会帮我们配置好一套东西。非常方便有木有~工程师就是能让电脑帮我们做的就不要自己动手做了嘛~~嘿嘿嘿。懒人秘籍-必学编程技能哦~</p>
<p>路由设置里面有一个属性方法是mode：这个属性是加载url的方式是用history还是用hash模式，history模式需要我们跟后端去配合，因为会想后端去请求一个新页面替换掉我们现在的页面，hash模式就不用跟后端去配合，是我们想要的单页面应用，当然了，这个是我们没有用router-link这个标签时的情况。用来router-link标签后不管是哪种模式都不会像后台去请求数据了。history模式是直接在当前的url下加上/的，而hash模式是先加上#再加上/的。注意两者的区别</p>
<p>node 中的path路径：<br><strong>__dirname</strong>就是文件所处的当前文件夹；</p>
<p>created函数:在实例创建完成后被立即调用。在这一步，实例已完成以下的配置：数据观测 (data observer)，属性和方法的运算，watch/event 事件回调。然而，挂载阶段还没开始，$el 属性目前不可见。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/前端框架/">前端框架</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/学习笔记/">学习笔记</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
    <article id="post-2017/11/2017.11.16-学习笔记" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2017/11/2017.11.16-学习笔记.html" class="article-date">
      <time datetime="2017-11-16T08:25:00.051Z" itemprop="datePublished">2017-11-16</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2017/11/2017.11.16-学习笔记.html">JavaScript学习笔记</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p><strong>JavaScript学习笔记</strong> <Excerpt in index | 首页摘要><br>更新一下这几天学习到的新知识咯~</p>
<h1 id="JSON"><a href="#JSON" class="headerlink" title="JSON"></a>JSON</h1><p>虽然知道JSON的数据格式，但是从来没有系统的整理过。今天就来总结一下它吧~</p>
<ol>
<li>基于纯文本，跨平台传递极其简单；</li>
<li>JavaScript原生支持，后台语言几乎全部支持；</li>
<li>轻量级数据格式，占用字符数量极少，特别适合互联网传递；</li>
<li>可读性极强，虽然比不上XML那么一目了然，但是合理的依次缩进之后还是很容易识别的；</li>
<li>容易编写和解析；<br>JSON格式和规则：<br>JSON能够以非常简单的方式来描述数据结构，XML能做到的它都能做到，而且传递的效率更高。</li>
<li>JSON只有两种数据类型描述符，大括号{}和方括号[]，其余英文冒号：是映射符，英文逗号,是分隔符，英文双引号””是定义符。</li>
<li>大括号{}用来描述一组“不同类型的无序键值对集合”（每个键值对可以理解为OOP的属性描述），方括号[]用来描述一组“相同类型的有序数据集合”（可对应OOP的数组）。</li>
<li>上述两种集合中若有多个子项，则通过英文逗号,进行分隔。</li>
<li>键值对以英文冒号:进行分隔，并且建议键名都加上英文双引号””，以便于不同语言的解析。</li>
<li>JSON内部常用数据类型无非就是字符串、数字、布尔、日期、null 这么几个，字符串必须用双引号引起来，其余的都不用，日期类型比较特殊，这里就不展开讲述了，只是建议如果客户端没有按日期排序功能需求的话，那么把日期时间直接作为字符串传递就好，可以省去很多麻烦。<br><strong>JSON实例：</strong></li>
</ol>
<p>`// 描述一个人</p>
<p>var person = {<br>    “Name”: “Bob”,<br>    “Age”: 32,<br>    “Company”: “IBM”,<br>    “Engineer”: true<br>}</p>
<p>// 获取这个人的信息</p>
<p>var personAge = person.Age;</p>
<p>// 描述几个人</p>
<p>var members = [<br>    {<br>        “Name”: “Bob”,<br>        “Age”: 32,<br>        “Company”: “IBM”,<br>        “Engineer”: true<br>    },<br>    {<br>        “Name”: “John”,<br>        “Age”: 20,<br>        “Company”: “Oracle”,<br>        “Engineer”: false<br>    },<br>    {<br>        “Name”: “Henry”,<br>        “Age”: 45,<br>        “Company”: “Microsoft”,<br>        “Engineer”: false<br>    }<br>]</p>
<p>// 读取其中John的公司名称</p>
<p>var johnsCompany = members[1].Company;</p>
<p>// 描述一次会议</p>
<p>var conference = {<br>    “Conference”: “Future Marketing”,<br>    “Date”: “2012-6-1”,<br>    “Address”: “Beijing”,<br>    “Members”:<br>    [<br>        {<br>            “Name”: “Bob”,<br>            “Age”: 32,<br>            “Company”: “IBM”,<br>            “Engineer”: true<br>        },<br>        {<br>            “Name”: “John”,<br>            “Age”: 20,<br>            “Company”: “Oracle”,<br>            “Engineer”: false<br>        },<br>        {<br>            “Name”: “Henry”,<br>            “Age”: 45,<br>            “Company”: “Microsoft”,<br>            “Engineer”: false<br>        }<br>    ]<br>}</p>
<p>// 读取参会者Henry是否工程师</p>
<p>var henryIsAnEngineer = conference.Members[2].Engineer;`</p>
<h1 id="JSONP"><a href="#JSONP" class="headerlink" title="JSONP"></a>JSONP</h1><p>说到JSONP，那不得不提的就是Ajax了。Ajax的大名早就在程序员的江湖上名声赫赫了，但是Ajax有一个缺点就是不能跨域进行数据的交互，所以为了解决这个遗憾，JSONP闪亮登场了，为什么JSONP可以进行跨域传输数据呢？因为这是“历史遗留”问题了。<br>1、一个众所周知的问题，Ajax直接请求普通文件存在跨域无权限访问的问题，甭管你是静态页面、动态网页、web服务、WCF，只要是跨域请求，一律不准；<br>2、不过我们又发现，Web页面上调用js文件时则不受是否跨域的影响（不仅如此，我们还发现凡是拥有”src”这个属性的标签都拥有跨域的能力，比如<code>&lt;script&gt;</code>、<code>&lt;img&gt;</code>、<code>&lt;iframe&gt;</code>）；<br>3、于是可以判断，当前阶段如果想通过纯web端（ActiveX控件、服务端代理、属于未来的HTML5之Websocket等方式不算）跨域访问数据就只有一种可能，那就是在远程服务器上设法把数据装进js格式的文件里，供客户端调用和进一步处理；<br>4、恰巧我们已经知道有一种叫做JSON的纯字符数据格式可以简洁的描述复杂数据，更妙的是JSON还被js原生支持，所以在客户端几乎可以随心所欲的处理这种格式的数据；<br>5、这样子解决方案就呼之欲出了，web客户端通过与调用脚本一模一样的方式，来调用跨域服务器上动态生成的js格式文件（一般以JSON为后缀），显而易见，服务器之所以要动态生成JSON文件，目的就在于把客户端需要的数据装入进去。<br>6、客户端在对JSON文件调用成功之后，也就获得了自己所需的数据，剩下的就是按照自己需求进行处理和展现了，这种获取远程数据的方式看起来非常像AJAX，但其实并不一样。<br>7、为了便于客户端使用数据，逐渐形成了一种非正式传输协议，人们把它称作JSONP，该协议的一个要点就是允许用户传递一个callback参数给服务端，然后服务端返回数据时会将这个callback参数作为函数名来包裹住JSON数据，这样客户端就可以随意定制自己的函数来自动处理返回数据了。<br>如果对于callback参数如何使用还有些模糊的话，我们后面会有具体的实例来讲解。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/学习笔记/">学习笔记</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/">JavaScript</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
    <article id="post-2017/11/2017.11.12-前端开发相关" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2017/11/2017.11.12-前端开发相关.html" class="article-date">
      <time datetime="2017-11-12T13:39:44.989Z" itemprop="datePublished">2017-11-12</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2017/11/2017.11.12-前端开发相关.html">前端开发相关</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p><strong>前端开发相关</strong> <Excerpt in index | 首页摘要></p>
<h1 id="js中多维数组转换成一维数组"><a href="#js中多维数组转换成一维数组" class="headerlink" title="js中多维数组转换成一维数组"></a>js中多维数组转换成一维数组</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [ <span class="number">1</span>, [<span class="number">2</span>], [[[<span class="number">3</span>]]], [<span class="number">4</span>, [<span class="number">5</span>] ] ];</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">unidimensionalArray</span> (<span class="params">arr</span>) </span>&#123;</span><br><span class="line">　　<span class="keyword">return</span> (arr + <span class="string">''</span>).split(<span class="string">','</span>).map(<span class="function"><span class="params">x</span> =&gt;</span> <span class="built_in">Number</span>(x));</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 先转换成字符串，在转换成数字类型的。</span></span><br><span class="line"><span class="built_in">console</span>.log(unidimensionalArray(arr)); <span class="comment">// [ 1, 2, 3, 4, 5 ]</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// 以上针对数字数组的， 下面是一个针对多类型的</span></span><br><span class="line"><span class="keyword">var</span> obj = &#123;&#125;;</span><br><span class="line"><span class="keyword">var</span> func = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;;</span><br><span class="line"><span class="keyword">var</span> u = <span class="literal">undefined</span>;</span><br><span class="line"><span class="keyword">var</span> nan = <span class="literal">NaN</span>;</span><br><span class="line"><span class="keyword">var</span> num = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">var</span> str = <span class="string">'boy'</span>;</span><br><span class="line"><span class="keyword">var</span> bool = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">var</span> arr = [bool, [str], [[num]], u, [[[nan, func]]], obj];</span><br><span class="line"> </span><br><span class="line"><span class="keyword">var</span> unidimensionalArray = <span class="function"><span class="keyword">function</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> arr.reduce(<span class="function">(<span class="params">p1, p2</span>) =&gt;</span> p1.concat(<span class="built_in">Array</span>.isArray(p2) ? unidimensionalArray(p2) : p2), []);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(unidimensionalArray(arr)); <span class="comment">// [ true, 'boy', 1, undefined, NaN, [Function: func], &#123;&#125; ]</span></span><br></pre></td></tr></table></figure>
<h1 id="求数组中的最大值"><a href="#求数组中的最大值" class="headerlink" title="求数组中的最大值"></a>求数组中的最大值</h1><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">~<span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">var</span> arr = [[<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>], <span class="number">4</span>, <span class="number">-1</span>, [<span class="number">11</span>, <span class="number">22</span>, <span class="number">33</span>, <span class="number">45</span>, [<span class="number">7</span>, <span class="number">123</span>, <span class="number">1</span>]],<span class="number">98</span>, [[<span class="number">123</span>]]];  </span><br><span class="line">            </span><br><span class="line">        <span class="comment">//=================================  </span></span><br><span class="line">        <span class="comment">//目标数组, 一维数组</span></span><br><span class="line">        <span class="keyword">var</span> targetArr = [];  </span><br><span class="line">        </span><br><span class="line">        <span class="comment">//=================================  </span></span><br><span class="line">        <span class="comment">//展开多维数组为一维数组的函数,递归调用  </span></span><br><span class="line">        <span class="comment">//forEach 为 ES5的数组迭代方法  </span></span><br><span class="line">        <span class="keyword">var</span> fnExpandArray = <span class="function"><span class="keyword">function</span> <span class="params">(arr)</span> </span>&#123;  </span><br><span class="line">            arr.<span class="keyword">forEach</span>( <span class="function"><span class="keyword">function</span> <span class="params">(item)</span> </span>&#123;  </span><br><span class="line">                <span class="keyword">if</span> ( <span class="keyword">Array</span>.isArray(item) ) &#123;  </span><br><span class="line">                fnExpandArray(item);  </span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;  </span><br><span class="line">                targetArr.push(item);  </span><br><span class="line">                &#125;  </span><br><span class="line">            &#125;);  </span><br><span class="line">        &#125;;  </span><br><span class="line">        </span><br><span class="line">        <span class="comment">//=================================  </span></span><br><span class="line">        <span class="comment">//展开数组到 targetArr中  </span></span><br><span class="line">        fnExpandArray(arr);  </span><br><span class="line">        console.log(targetArr);  </span><br><span class="line">        </span><br><span class="line">        <span class="comment">//=================================  </span></span><br><span class="line">        <span class="comment">//求出最大值的函数,假设第一个值为最大值, 并且与后面的值进行比较  </span></span><br><span class="line">        <span class="keyword">var</span> fnMax = <span class="function"><span class="keyword">function</span> <span class="params">(arr)</span> </span>&#123;  </span><br><span class="line">            <span class="keyword">var</span> max = arr[<span class="number">0</span>];  </span><br><span class="line">            arr.<span class="keyword">forEach</span>( <span class="function"><span class="keyword">function</span> <span class="params">(item)</span> </span>&#123;  </span><br><span class="line">            <span class="keyword">if</span> (item &gt; max) &#123;  </span><br><span class="line">                max = item;  </span><br><span class="line">            &#125;  </span><br><span class="line">            &#125;);  </span><br><span class="line">            <span class="keyword">return</span> max;  </span><br><span class="line">        &#125;;  </span><br><span class="line">        </span><br><span class="line">        <span class="comment">//=================================  </span></span><br><span class="line">        <span class="comment">//最终答案  </span></span><br><span class="line">        alert(<span class="string">'最大值是:'</span> + fnMax(targetArr));  </span><br><span class="line">        </span><br><span class="line">&#125;()</span><br></pre></td></tr></table></figure>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/学习笔记/">学习笔记</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/">JavaScript</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
    <article id="post-2017/11/2017.11.10-智力题总结" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2017/11/2017.11.10-智力题总结.html" class="article-date">
      <time datetime="2017-11-10T05:58:00.062Z" itemprop="datePublished">2017-11-10</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2017/11/2017.11.10-智力题总结.html">智力题总结</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p><strong>智力题总结</strong> <Excerpt in index | 首页摘要></p>
<p>最近在找工作，做了一些笔试题和参加了几个面试，面试中被问到有关智力型的问题，要是你看过一些算法类型的书的话，你就会发现这些问题大同小异的都会用到算法中的一些经典的思想。其中有经典的分治法的思想等等，有些智力题真的是非常的耐人寻味。<br>今天就给大家总结一些面试中被问到的智力型问题吧~</p>
<h1 id="1-有1000瓶啤酒，其中有一瓶有毒，有小白鼠10只，毒药5天发作，如何在5天时间内找出那瓶毒酒。"><a href="#1-有1000瓶啤酒，其中有一瓶有毒，有小白鼠10只，毒药5天发作，如何在5天时间内找出那瓶毒酒。" class="headerlink" title="1. 有1000瓶啤酒，其中有一瓶有毒，有小白鼠10只，毒药5天发作，如何在5天时间内找出那瓶毒酒。"></a>1. 有1000瓶啤酒，其中有一瓶有毒，有小白鼠10只，毒药5天发作，如何在5天时间内找出那瓶毒酒。</h1><p>这个题是考察你对二进制的理解。<br>可以把1000瓶啤酒用二进制编号，那么最多需要10位二进制数。可以用每只小鼠验证每一位二进制数中的一位。例如：可以用第一只小鼠验证第一位数中的1，第二只小鼠验证第二位数中的1，以此类推。那么根据最后小鼠的死亡数来判断具体第几瓶酒有有毒了。</p>
<p>这个问题也可以有很多变种题。例如：可以测两轮，那么可以测多少瓶酒中的一瓶毒药。对于能replace的情况：2^10*2^10。对于不能replace的情况：3^10。</p>
<h1 id="2-有一座桥，桥长80米，你有一个背包，背包可以背60个豆子，你要从桥这边到桥那边去，但是有一个规则，你每走一步必须吃一个豆子，只能背一个背包。求最少需要多少豆子才能过桥。"><a href="#2-有一座桥，桥长80米，你有一个背包，背包可以背60个豆子，你要从桥这边到桥那边去，但是有一个规则，你每走一步必须吃一个豆子，只能背一个背包。求最少需要多少豆子才能过桥。" class="headerlink" title="2. 有一座桥，桥长80米，你有一个背包，背包可以背60个豆子，你要从桥这边到桥那边去，但是有一个规则，你每走一步必须吃一个豆子，只能背一个背包。求最少需要多少豆子才能过桥。"></a>2. 有一座桥，桥长80米，你有一个背包，背包可以背60个豆子，你要从桥这边到桥那边去，但是有一个规则，你每走一步必须吃一个豆子，只能背一个背包。求最少需要多少豆子才能过桥。</h1><p><strong>答案：160豆子</strong><br>解析：你可以先背60个豆子走到20米处，放下20个豆子放回，然后再背满豆子出发，就能走过去了。总共需要160个豆子。</p>
<h1 id="3-N的阶乘后面有多少个零。"><a href="#3-N的阶乘后面有多少个零。" class="headerlink" title="3. N的阶乘后面有多少个零。"></a>3. N的阶乘后面有多少个零。</h1><p>首先，我们先来看一下，结尾是0的数是由谁生成的？<br>出现0的情况就是5的倍数乘以2的倍数。但是出现0的个数是不一定的，2*5=10结果出现一个0，4*25=100结尾出现2个0，8*125=1000结尾出现3个0。以此类推，大家不难发现规律所在，4*25可以分解成2*5*2*5,8*125可以分解成2*5*2*5*2*5…<br>至于10，15，20…这些数，分解开，也只会出现1个5，也就只会出现1个0；<br>至于50，75…这些25的倍数，分解开，也只会出现2个5，与偶数相乘也只会出现2个0。<br>下面就是计算0个数了。</p>
<p>例如：100！<br>由上面的推理过程就能得到：<br>100/5 + 100/25 = 24<br>即：100的阶乘后面有24个0；</p>
<h1 id="4-扑克牌问题"><a href="#4-扑克牌问题" class="headerlink" title="4. 扑克牌问题"></a>4. 扑克牌问题</h1><p>问题：一付54张扑克牌，其中有十张是翻过来的。现在把你的眼睛蒙上（绝对没有偷看的可能），让你把扑克牌分成两叠（两叠的多少可以不一样）。要求在两叠中翻过来的扑克牌是相等的。请问该怎么做？除了扑克牌的数目，其它因数（扑克牌大小，重量，颜色，表面触摸的感觉，等等）不参与题目之中。扑克牌可以任意次重新排序、翻转。10张翻过来的扑克牌是随机分布在扑克牌中。</p>
<p><strong>答案：第一步，你在这54张牌中任意取出10张，现在，扑克牌分成了两叠。44张和10张；第二步，44张那叠不动，将10张这叠每张都翻过来，便得到了符合条件的两叠牌。</strong></p>
<p>解释：第一步之后，设44张那叠中正面牌x张，10张那叠中正面牌则为10-x张。第二步之后，44张那叠中正面牌保持x张，10张那叠反过来了：反面牌为10-x张，正面牌x张。</p>
<h1 id="5-分金条问题"><a href="#5-分金条问题" class="headerlink" title="5. 分金条问题"></a>5. 分金条问题</h1><p>问题：有个商人雇用了一位手艺高超的工匠了为他做一个精致产品，工作一星期七天的代价是一条金条。商人手头上有一条金条，刚好有可以付工匠一星期的工钱。但工匠要求工钱要按每天来付。虽然他并不急着用钱，每天有钱进账，老人心里总是踏实一些。但商人家中有个规矩，金条每星期只能切二刀。后来商人想出以了个切割金条的办法，满足了工匠的要求。你知道商人是怎么切割金条才能满足工匠的吗？</p>
<p><strong>答案：切成1、2、4。</strong></p>
<p>解释：这三个二进制数的组合能表示0-7中的任何一个。</p>
<h1 id="6-送花瓶"><a href="#6-送花瓶" class="headerlink" title="6. 送花瓶"></a>6. 送花瓶</h1><p>问题：古时候有一位商人要让伙计将一个精致的花瓶送到买主的手里。买主住在很远的地方，路途中间要经过土匪出没的地方。土匪要是见到花瓶就会抢走。但土匪不会打开锁着的东西，只要把花瓶锁在箱子里就可以安全地送到目的地（这土匪看起来还很文明）。所以商人准备了一个大箱子，在箱子上装了个很大很结实的的锁扣，足以挂几把锁。商人还准备了一把精致的铁锁将花瓶锁在箱子里。这把铁锁的钥匙是独一无二的，没有这把钥匙，按照当时的技术箱子是绝对打不开的。但问题来了，土匪只要见到钥匙就会没收。钥匙都是没法安全地送到买主的手里的。买主也不能把自己的锁送给卖主用。在几经周折后，买主终于得到了他心爱的花瓶。请问这花瓶是如何送到买主的手里的？<br>这是一个故事，但故事里的技术是实在的，也确实运用到了如今的高科技中。在互联网中怎样将信息安全地送到目的地而不被黑客在中途截获，也是成功地运用了类似的方法。你知道故事的答案吗？</p>
<p><strong>答案：1)、把花瓶锁在箱子里（这把锁只有商人能开，称为“锁1“)，然后运到买主手里。2)、买主收到箱子后，在箱子上再加上自己的锁（这把锁只有买主能开，称为“锁2“),然后把箱子运回给商人。3)、商人收到箱子后，把锁1找开拿走，这时候箱子上只剩下锁2，然后把箱子运给买言。4)、买主收到箱子后， 打开锁2，就成功拿到花瓶。</strong></p>
<h1 id="7-切蛋糕"><a href="#7-切蛋糕" class="headerlink" title="7. 切蛋糕"></a>7. 切蛋糕</h1><p>问题描述：有一个长方形的蛋糕，中间已被挖去了一个长方形的坑。这长方形的坑不在蛋糕的中央，也不与蛋糕的周边平行。两位小朋友想平分这个蛋糕，请问如何一刀将但蛋糕分成两个体积相等的部分？条件：只能切直的一刀，而且不能拦腰将蛋糕分成上下两个部分（因为蛋糕上面有好吃的糖果。</p>
<p><strong>答案：沿着两个矩形的中心连线切下去即可。</strong></p>
<p>解释：两份蛋糕图形的面积相等，都等于大矩形面积的一半减去小矩形面积的一半。</p>
<h1 id="8-iPhone-四位数密码"><a href="#8-iPhone-四位数密码" class="headerlink" title="8. iPhone 四位数密码"></a>8. iPhone 四位数密码</h1><p>问题描述：一个朋友打开了他的iPhone，我一把把它抓过来说：‘嗯，9、6、0，和1，对吧？’。因为有浓重的手指印在这四个数字上面，我正确地推定这与他的密码相关。他吓了一跳，因为如果我是一个贼，我可以很容易解开他的电话。因为所有的四个数字在四位数字代码中只有一次出现（据我所知，这只有4 x 3 x 2 x 1 = 24种可能）。因而，取四个不同数字作代码不是非常安全的。所以，当我设定密码时，我选择了重复的数字（如1-2-3-1）。这样一来，如果有人会看我的手机，即使他们能够探测到我的手指印，他们要么在猜想第四个数字（不存在），或者，他们如果弄清楚我只用三个独立数字，他们将不得不尝试在一个四位数代码中，列出这三个不同数字所有可能的排列。问题是：1．在一个四位数的代码中，只使用三个数字对安全是否确实有帮助？2．如果只重复使用两个独立的数字会不会更好呢？</p>
<p><strong>答案：用三个数字最安全，两个数字最不安全，四个数字居中。</strong></p>
<p>解释：1)、4个位置不同时,排列数=4<em>3</em>2<em>1=24；2)、3个位置不同时,排列数=C(4,2)</em>2*3=36；3)、2个位置不同时,排列数=3个重复情况（4+4）+两两重复情况（6）=14。</p>
<h1 id="9-书有多少页"><a href="#9-书有多少页" class="headerlink" title="9. 书有多少页"></a>9. 书有多少页</h1><p>问题描述：一本书有N页厚。书的页数是从1 到N。所知道的是，所有的页数总共用了1095个数码字。请问这本书有多少页？</p>
<p><strong>答案：401页</strong></p>
<p>解释：有9页个位数的书页，每页用一个数码字。90页两位数的书页，每页用2个数码字。首先假设没有四位数的书页，而三位数书页的数目为x。因为总共用了1095个数字，所以列出x的方程：9+2<em>90+3</em>x=1095。解出x=302，总的书页数=302+9+90=401。</p>
<h1 id="10-左轮枪"><a href="#10-左轮枪" class="headerlink" title="10. 左轮枪"></a>10. 左轮枪</h1><p>问题描述：某公司招聘员工面试时提的问题：“让我们来玩个游戏”，招聘人开始了。“你现在被牢牢地绑在椅子上不能动。这是一把枪，一把六星左轮抢，六个弹槽都空着。现在，我把两颗子弹装入弹槽。看到我把子弹装入两个相邻的弹槽了吗？我把轮子合上，然后用手拨动让轮子转动几圈。我把枪对着你的头，扣动了扳机，…，叭。你真幸运！第一枪撞针没打中子弹。然后，我要再扣一次扳机。”招聘人接着说：“我可以直接扣动扳机，或旋转轮子一下再扣扳机，你可以选择其中一种，请问，你选哪一种方法呢？”庆幸的是这只是一把想象中的枪。招聘人只是用手势做出旋转轮子和扣动扳机的样子。但不幸的是你的前程却掌握在挥舞着‘手枪’的家伙的手里。 当然，这两种方法都不是你要的，但其中一种方法的生存的机会会大一些。你到底应该选择哪一种方法呢？<br>解释：题中说：子弹是装入两个相邻的弹槽，左轮枪是一格一格往下转的，如右图所示。1) 第一枪没有打出子弹，因此，第一枪的位置只可能是A、B、C、D。那么，接连第二枪的位置就会是第一枪的下面一个，也就是：B、C、D、E，这4个位置中，只有E有子弹。所以，如果直接扣动扳机，几率=1/4。2) 如果重新把轮子转一下，左轮枪将处于随机的位置，6个格子有2颗子弹，这时挨枪的机率为2/6=1/3。3.)1/4 &lt;1/3，‘不转’死的几率更小。</p>
<p><strong>答案：选择‘不转’，因为被打死的概率更小。</strong></p>
<p>这个问题让我想到了经典的羊车门问题。有没有一点相似之处呢？</p>
<h1 id="11-导火索"><a href="#11-导火索" class="headerlink" title="11. 导火索"></a>11. 导火索</h1><p>问题描述：有两根导火索，它们的长度都是正好1分钟烧完。但是它们燃烧的速度是不均匀的。也就是说，你不能用一小段的长度与总长度的比值来确定燃烧完这一小段的时间。用这两根导火索和一只打火机，没有其它计时器的帮助，请你给我报告两次时间信号：开始的时间t1、结束的时间t2。时间t1和t2准确地相差45秒。</p>
<p>答案：将其中一根的两头，以及另一根的一头，同时点燃，这个时刻定为t1。当第一根烧完时，立即后点燃第二根的另一端，第二根烧完的时刻便是t2。</p>
<p>解释:见下图：第一根两头点燃，直到烧完，时间是30秒。这时第二根也烧了30秒，因第二根只点了一端，因而只烧完了一半时间，剩下的部分还能烧30秒，这时马上点燃它的另一端，变成从两头同时烧，因而烧完的时间是15 秒，加上开始的30秒，总共历时45秒。</p>
<h1 id="12-计时沙漏"><a href="#12-计时沙漏" class="headerlink" title="12. 计时沙漏"></a>12. 计时沙漏</h1><p>问题描述：沙漏（hourglass）是最早使用的计时仪器之一。如下图（a）中所示的沙漏，是上下对称的，可以倒来倒去地计时。比如说，如果有一个2分钟的沙漏，你便可以漏一次得到2分钟，漏完后立即倒过来，再漏完，总共得到4分钟的时间。</p>
<p>现在，给你一个4分钟的沙漏，和一个7分钟的沙漏，它们都是可以倒来倒去的对称沙漏。如何将它们配合使用，才能得到准确的、从开始到结束总共9分钟的时间？</p>
<p>用图形，我们可以更方便地说明这个问题。一个沙漏某时刻的状态可以用上下重叠的两个带数字的方格表示，例如，上图（b）所表示的是7分钟沙漏的初始状态和漏了2分钟后的状态。上图中的（c）则是要请你回答的问题。</p>
<p><strong>解释：设7分钟的沙漏为A，4分钟的为B，A，B同时漏，4分钟后， 状态为 （A ： 3，4）；（ B：0，4）；B倒过来， 3分钟A漏完全后， 状态为（A ： 0，7）； （B：1，3）；A倒过来， 1分钟B漏完全后， 状态为（A ： 1，6）； （B：0，4），A倒过来, 1分钟后，状态为（A ： 0，7）；</strong></p>
<h1 id="13-测量砖头的对角线"><a href="#13-测量砖头的对角线" class="headerlink" title="13. 测量砖头的对角线"></a>13. 测量砖头的对角线</h1><p>问题描述：单凭三个砖块和一把尺子，不使用任何公式，怎样才能测量一个砖头的立体对角线？就是穿过砖头内部的那条对角线。</p>
<p><strong>答案：将三块砖头如图迭起来，就可测量。</strong></p>
<h1 id="14-电路"><a href="#14-电路" class="headerlink" title="14. 电路"></a>14. 电路</h1><p>问题描述：12个电阻连成一个正立方体，正方体的每一条棱上有一个1欧姆的电阻，请你求出A和E之间的等效电阻。<br><strong>答案：5/6。</strong><br>解释：解此题的巧妙之处是在于利用对称性，和电学的一丁点儿基础概念，否则……见下左图，三个红点的电位应该相同，三个绿点的电位也应该相同。电位相同的点等效于连在一起。下图中，左、右的电路是互相等效的，因此：R = 1/3 + 1/6 + 1/3，R = 5/6。</p>
<h1 id="15-方格子"><a href="#15-方格子" class="headerlink" title="15. 方格子"></a>15. 方格子</h1><p>问题描述：有一张8×8=64个格子的格子纸，右上角和左下角各被剪去一格，如图左所示：女儿有31张长方形的卡片（中图），每张刚好是两个格子。女儿想：剪掉了两个角的格子纸面积和31张卡片总面积一样大，因此，她想用卡片作拼图，把格子纸盖起来，但她拼来拼去都不成功，你能帮帮她吗？或者……<br><strong>答案：不可能覆盖起来。</strong><br>解释：不是面积相等就能覆盖的！女儿难不倒将军。不过，8岁的女儿不懂高深的数学，将军想了一个巧妙的方法解释给她听。他将8×8的格子纸涂成黑白相间的国际象棋棋盘（下左图），又举了2×2方格纸剪去两角为例。看下面右图，剪去的两个小方块都是黑色的，剩下两个白方块处于对角的位置，怎么可能被一个黑白的卡片覆盖呢？图中一目了然，小女儿很快就明白了。</p>
<h1 id="17-为什么下水道的盖子是圆的？"><a href="#17-为什么下水道的盖子是圆的？" class="headerlink" title="17. 为什么下水道的盖子是圆的？"></a>17. 为什么下水道的盖子是圆的？</h1><p>参考答案:<br>主考官认为的最好回答是：正方形的盖子容易掉到洞里去。想一想，如果盖子真掉进去的话，那么不是发生伤人事故，就是盖子会掉到水里。为什么正方形的盖子容易掉下去呢？这是因为正方形的对角线是其边长的约1.414倍。如果把一个正方形盖子垂直地立起来，稍微一转，它就会很容易掉到下水道里去。与此相反，圆的直径都是等长的，这使它很难掉进去。<br>一种诙谐回答是：下水道的洞口是圆形的，盖子当然也应该是圆的。那么为什么下水道的洞口是圆形的？答案是因为圆形的洞比方形的洞好挖。<br>还有另外一种答案：在进行短距离搬运时，圆形的盖子可以很方便地通过滚动的方法来搬运，而方形的盖子就不容易搬运，你需要借助手推车或者由两个人抬着走。再有一点就是用圆形盖子盖住洞口时，不需要怎么调整就可以与洞口严丝合缝。<br><strong>这个问题恐怕是微软最为有名的面试问题了。由于“曝光率”太高，微软在面试中已经停止使用这个问题了。</strong></p>
<h1 id="18-美国有多少加油站（汽车）？"><a href="#18-美国有多少加油站（汽车）？" class="headerlink" title="18. 美国有多少加油站（汽车）？"></a>18. 美国有多少加油站（汽车）？</h1><p>参考答案:<br><strong>这个乍看让人有些摸不着头脑的问题时，你可能要从问这个国家有多少小汽车入手。面试者也许会告诉你这个数字，但也有可能说：”我不知道，你来告诉 我。”那么，你对自己说，美国的人口是2.75亿。你可以猜测，如果平均每个家庭 （包括单身）的规模是2.5人，你的计算机会告诉你，共有1.1亿个家庭。你回忆起在什么地方听说过，平均每个家庭拥有1.8辆小汽车，那么美国大约会有1.98亿辆小汽车。接着，只要你算出替1.98亿辆小汽车服务需要多少加油站，你就把问题解决了。重要的不是加油站的数字，而是你得出这个数字的方法。</strong></p>
<h1 id="19-距离问题"><a href="#19-距离问题" class="headerlink" title="19. 距离问题"></a>19. 距离问题</h1><p>有一辆火车以每小时15公里的速度离开洛杉矶直奔纽约，另一辆火车以第 小时20公里的速度从纽约开往洛杉矶。如果有一只鸟，以外30公里每小时的速度和 两辆火车现时启动，从洛杉矶出发，碰到另辆车后返回，依次在两辆火车来回的飞 行，直道两面辆火车相遇，请问，这只小鸟飞行了多长距离？<br><strong>参考答案:答案很容易计算的： 假设洛杉矶到纽约的距离为s 那小鸟飞行的距离就是(s/(15+20))*30。</strong></p>
<h1 id="20-概率问题"><a href="#20-概率问题" class="headerlink" title="20. 概率问题"></a>20. 概率问题</h1><p>你有两个罐子，50个红色弹球，50个蓝色弹球，随机选出一个罐子，随机 选取出一个弹球放入罐子，怎么给红色弹球最大的选中机会？在你的计划中，得到 红球的准确几率是多少？<br><strong>参考答案:一个罐子放一个红球,另一个罐子放49个红球和50个蓝球,概率接近75%.这是所能达到的最大概率了。实际上，只要一个罐子放&lt;50个红球，不放篮球，另一个罐子放剩下的球，拿出红球的概率就大于50%。</strong><br>无答案，看你有没有魄力坚持自己的意见。</p>
<h1 id="21-重量问题"><a href="#21-重量问题" class="headerlink" title="21. 重量问题"></a>21. 重量问题</h1><p>你有四人装药丸的罐子，每个药丸都有一定的重量，被污染的药丸是没被 污染的重量+1.只称量一次，如何判断哪个罐子的药被污染了？</p>
<p><strong>参考答案:从第一盒中取出一颗，第二盒中取出2 颗，第三盒中取出三颗。 依次类推，称其总量。再根据总重量增加多少判断污染的药罐。</strong></p>
<h1 id="22-夸脱的水问题"><a href="#22-夸脱的水问题" class="headerlink" title="22. 夸脱的水问题"></a>22. 夸脱的水问题</h1><p>如果你有无穷多的水，一个3夸脱的和一个5夸脱的提桶，你如何准确称出 4夸脱的水？<br><code>参考答案:
先用3 夸脱的桶装满，倒入5 夸脱。以下简称3-&gt;5) 在5 夸脱桶中做好标记b1，简称b1)。 
用3 继续装水倒满5 空3 将5 中水倒入3 直到b1 在3 中做标记b2 
用5 继续装水倒满3 空5 将3 中水倒入5 直到b2 
空3 将5 中水倒入3 标记为b3 
装满5 空3 将5 中水倒入3 直到3 中水到b3
结束了，现在5 中水为标准的4 夸脱水。</code></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/学习笔记/">学习笔记</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/思维能力/">思维能力</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
    <article id="post-2017/11/2017.11.9-前端面试" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2017/11/2017.11.9-前端面试.html" class="article-date">
      <time datetime="2017-11-09T11:51:31.415Z" itemprop="datePublished">2017-11-09</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2017/11/2017.11.9-前端面试.html">前端面试总结</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p><strong>前端面试总结</strong>  <Excerpt in index | 首页摘要></p>
<h1 id="HTTP协议"><a href="#HTTP协议" class="headerlink" title="HTTP协议"></a>HTTP协议</h1><p>之前也看过一些有关tcp/ip协议的书，对HTTP协议也有一些了解，但是真要让我自己说出来的时候才发现对http协议了解的只是脑海中的印象而已，当时看书是理解了，但是回过头来想的时候又变得模糊了，总之，还是自己没有理解透彻的原因吧！<br>今天就再来简单概括一下HTTP协议的主要内容吧~同学们，好好听课，重点来了~（敲黑板~认真脸~）</p>
<ol>
<li>支持客户/服务器模式。</li>
<li>简单快速：客户向服务器请求服务时，只需传送请求方法和路径。请求方法常用的有GET、HEAD、POST。每种方法规定了客户与服务器联系的类型不同。由于HTTP协议简单，使得HTTP服务器的程序规模小，因而通信速度很快。</li>
<li>灵活：HTTP允许传输任意类型的数据对象。正在传输的类型由Content-Type加以标记。</li>
<li>无连接：无连接的含义是限制每次连接只处理一个请求。服务器处理完客户的请求，并收到客户的应答后，即断开连接。采用这种方式可以节省传输时间。</li>
<li>无状态：HTTP协议是无状态协议。无状态是指协议对于事务处理没有记忆能力。缺少状态意味着如果后续处理需要前面的信息，则它必须重传，这样可能导致每次连接传送的数据量增大。另一方面，在服务器不需要先前信息时它的应答就较快。</li>
</ol>
<h3 id="http请求由三部分组成，分别是：请求行、消息报头、请求正文"><a href="#http请求由三部分组成，分别是：请求行、消息报头、请求正文" class="headerlink" title="http请求由三部分组成，分别是：请求行、消息报头、请求正文"></a>http请求由三部分组成，分别是：请求行、消息报头、请求正文</h3><p>1、请求行以一个方法符号开头，以空格分开，后面跟着请求的URI和协议的版本，格式如下：Method Request-URI HTTP-Version CRLF<br>其中 Method表示请求方法；Request-URI是一个统一资源标识符；HTTP-Version表示请求的HTTP协议版本；CRLF表示回车和换行（除了作为结尾的CRLF外，不允许出现单独的CR或LF字符）。</p>
<p>请求方法（所有方法全为大写）有多种，各个方法的解释如下：<br>GET     请求获取Request-URI所标识的资源<br>POST    在Request-URI所标识的资源后附加新的数据<br>HEAD    请求获取由Request-URI所标识的资源的响应消息报头<br>PUT     请求服务器存储一个资源，并用Request-URI作为其标识<br>DELETE  请求服务器删除Request-URI所标识的资源<br>TRACE   请求服务器回送收到的请求信息，主要用于测试或诊断<br>CONNECT 保留将来使用<br>OPTIONS 请求查询服务器的性能，或者查询与资源相关的选项和需求<br>应用举例：<br>GET方法：在浏览器的地址栏中输入网址的方式访问网页时，浏览器采用GET方法向服务器获取资源，eg:GET /form.html HTTP/1.1 (CRLF)</p>
<p>POST方法要求被请求服务器接受附在请求后面的数据，常用于提交表单。<br>eg：POST /reg.jsp HTTP/ (CRLF)<br>Accept:image/gif,image/x-xbit,… (CRLF)<br>…<br>HOST:www.guet.edu.cn (CRLF)<br>Content-Length:22 (CRLF)<br>Connection:Keep-Alive (CRLF)<br>Cache-Control:no-cache (CRLF)<br>(CRLF)         //该CRLF表示消息报头已经结束，在此之前为消息报头<br>user=jeffrey&amp;pwd=1234  //此行以下为提交的数据</p>
<p>HEAD方法与GET方法几乎是一样的，对于HEAD请求的回应部分来说，它的HTTP头部中包含的信息与通过GET请求所得到的信息是相同的。利用这个方法，不必传输整个资源内容，就可以得到Request-URI所标识的资源的信息。该方法常用于测试超链接的有效性，是否可以访问，以及最近是否更新。<br>2、请求报头后述<br>3、请求正文(略) </p>
<h3 id="HTTP协议详解之响应篇"><a href="#HTTP协议详解之响应篇" class="headerlink" title="HTTP协议详解之响应篇"></a>HTTP协议详解之响应篇</h3><p>在接收和解释请求消息后，服务器返回一个HTTP响应消息。</p>
<p>HTTP响应也是由三个部分组成，分别是：状态行、消息报头、响应正文<br>1、状态行格式如下：<br>HTTP-Version Status-Code Reason-Phrase CRLF<br>其中，HTTP-Version表示服务器HTTP协议的版本；Status-Code表示服务器发回的响应状态代码；Reason-Phrase表示状态代码的文本描述。<br>状态代码有三位数字组成，第一个数字定义了响应的类别，且有五种可能取值：<br>1xx：指示信息–表示请求已接收，继续处理<br>2xx：成功–表示请求已被成功接收、理解、接受<br>3xx：重定向–要完成请求必须进行更进一步的操作<br>4xx：客户端错误–请求有语法错误或请求无法实现<br>5xx：服务器端错误–服务器未能实现合法的请求<br>常见状态代码、状态描述、说明：<br>200 OK      //客户端请求成功<br>400 Bad Request  //客户端请求有语法错误，不能被服务器所理解<br>401 Unauthorized //请求未经授权，这个状态代码必须和WWW-Authenticate报头域一起使用<br>403 Forbidden  //服务器收到请求，但是拒绝提供服务<br>404 Not Found  //请求资源不存在，eg：输入了错误的URL<br>500 Internal Server Error //服务器发生不可预期的错误<br>503 Server Unavailable  //服务器当前不能处理客户端的请求，一段时间后可能恢复正常<br>eg：HTTP/1.1 200 OK （CRLF）</p>
<p>2、响应报头后述</p>
<p>3、响应正文就是服务器返回的资源的内容</p>
<h1 id="进程和线程"><a href="#进程和线程" class="headerlink" title="进程和线程"></a>进程和线程</h1><p>一个程序至少有一个进程,一个进程至少有一个线程.<br>线程的划分尺度小于进程，使得多线程程序的并发性高。<br>另外，进程在执行过程中拥有独立的内存单元，而多个线程共享内存，从而极大地提高了程序的运行效率。<br>线程在执行过程中与进程还是有区别的。每个独立的线程有一个程序运行的入口、顺序执行序列和程序的出口。但是线程不能够独立执行，必须依存在应用程序中，由应用程序提供多个线程执行控制。<br>从逻辑角度来看，多线程的意义在于一个应用程序中，有多个执行部分可以同时执行。但操作系统并没有将多个线程看做多个独立的应用，来实现进程的调度和管理以及资源分配。这就是进程和线程的重要区别。</p>
<p>进程是具有一定独立功能的程序关于某个数据集合上的一次运行活动,进程是系统进行资源分配和调度的一个独立单位.<br>线程是进程的一个实体,是CPU调度和分派的基本单位,它是比进程更小的能独立运行的基本单位.线程自己基本上不拥有系统资源,只拥有一点在运行中必不可少的资源(如程序计数器,一组寄存器和栈),但是它可与同属一个进程的其他的线程共享进程所拥有的全部资源.<br>一个线程可以创建和撤销另一个线程;同一个进程中的多个线程之间可以并发执行。</p>
<p><strong>进程和线程的主要差别在于它们是不同的操作系统资源管理方式。进程有独立的地址空间，一个进程崩溃后，在保护模式下不会对其它进程产生影响，而线程只是一个进程中的不同执行路径。线程有自己的堆栈和局部变量，但线程之间没有单独的地址空间，一个线程死掉就等于整个进程死掉，所以多进程的程序要比多线程的程序健壮，但在进程切换时，耗费资源较大，效率要差一些。但对于一些要求同时进行并且又要共享某些变量的并发操作，只能用线程，不能用进程。</strong></p>
<h1 id="盒模型"><a href="#盒模型" class="headerlink" title="盒模型"></a>盒模型</h1><p><img src="http://outwcl4zh.bkt.clouddn.com/W3C-Box.jpg" alt="W3C-Box"><br><img src="http://outwcl4zh.bkt.clouddn.com/IE-Box.jpg" alt="IE-Box"></p>
<h1 id="js中异步加载和同步加载的优缺点"><a href="#js中异步加载和同步加载的优缺点" class="headerlink" title="js中异步加载和同步加载的优缺点"></a>js中异步加载和同步加载的优缺点</h1><h3 id="同步模式"><a href="#同步模式" class="headerlink" title="同步模式"></a>同步模式</h3><p>又称阻塞模式，会阻止浏览器的后续处理，停止了后续的解析，因此停止了后续的文件加载（如图像）、渲染、代码执行。<br> js 之所以要同步执行，是因为 js 中可能有输出 document 内容、修改dom、重定向等行为，所以默认同步执行才是安全的。<br>以前的一般建议是把 <strong><code>&lt;script&gt;</code>放在页面末尾<code>&lt;/body&gt;</code>之前，这样尽可能减少这种阻塞行为，而先让页面展示出来。</strong><br>简单说：同步加载的网络 timeline 是瀑布模型，而异步加载的 timeline 是并发模型。</p>
<h3 id="异步加载"><a href="#异步加载" class="headerlink" title="异步加载"></a>异步加载</h3><p>又叫非阻塞，浏览器在下载执行 js 同时，还会继续进行后续页面的处理。<br>这种方法是在页面中 <strong><code>&lt;script&gt;</code>标签内，用 js 创建一个 script 元素并插入到 document 中。这样就做到了非阻塞的下载 js 代码。</strong><br>async属性是HTML5中新增的异步支持，见后文解释，加上好（不加也不影响）。<br>此方法被称为 Script DOM Element 法，不要求 js 同源。<br>将js代码包裹在匿名函数中并立即执行的方式是为了保护变量名泄露到外部可见，这是很常见的方式，尤其是在 js 库中被普遍使用。<br>代码如下：</p>
<p><code>(function() {
     var s = document.createElement(&#39;script&#39;);
     s.type = &#39;text/javascript&#39;;
     s.async = true;
     s.src = &#39;http://yourdomain.com/script.js&#39;;
     var x = document.getElementsByTagName(&#39;script&#39;)[0];
     x.parentNode.insertBefore(s, x);
 })();</code></p>
<p> <strong>但是，这种加载方式在加载执行完之前会阻止 onload 事件的触发，而现在很多页面的代码都在 onload 时还要执行额外的渲染工作等，所以还是会阻塞部分页面的初始化处理。</strong></p>
<p><code>(function() {
     function async_load(){
         var s = document.createElement(&#39;script&#39;);
         s.type = &#39;text/javascript&#39;;
         s.async = true;
         s.src = &#39;http://yourdomain.com/script.js&#39;;
         var x = document.getElementsByTagName(&#39;script&#39;)[0];
         x.parentNode.insertBefore(s, x);
     }
     if (window.attachEvent)
         window.attachEvent(&#39;onload&#39;, async_load);
     else
         window.addEventListener(&#39;load&#39;, async_load, false);
 })();</code></p>
<p> 这和前面的方式差不多，但关键是它不是立即开始异步加载 js ，而是在 onload 时才开始异步加载。这样就解决了阻塞 onload 事件触发的问题。</p>
<p>在异步加载的时候，无法使用 document.write 输出文档内容。<br>在同步模式下，document.write 是在当前 script 所在的位置输 出文档的。而在异步模式下，浏览器继续处理后续页面内容，根本无法确定 document.write 应该输出到什么位置，所以异步模式下 document.write 不可行。而到了页面已经 onload 之后，再执行 document.write 将导致当前页面的内容被清空，因为它会自动触发 document.open 方法。<br>实际上document.write的名声并不好，最好少用。<br>替代方法：</p>
<ol>
<li>虽然异步加载不能用 document.write，但还是可以onload之后执行操作dom（创建dom或修改dom）的，这样可以实现一些自己的动态输出。比如要在页面异步创建一个浮动元素，这和它在页面中的位置就没关系了，只要创建出该dom元素添加到 document 中即可。</li>
<li>如果需要在固定位置异步生成元素的内容，那么可以在该固定位置设置一个dom元素作为目标，这样就知道位置了，异步加载之后就可以对这个元素进行修改。</li>
</ol>
<h1 id="如何在元素未添加到dom结构时在元素上绑定事件"><a href="#如何在元素未添加到dom结构时在元素上绑定事件" class="headerlink" title="如何在元素未添加到dom结构时在元素上绑定事件"></a>如何在元素未添加到dom结构时在元素上绑定事件</h1><p>可以用事件冒泡的形式进行处理，如下代码：</p>
<p><code>$(document).on(&#39;click&#39;,&#39;selector&#39;,function(){  
        ...  
    });</code></p>
<p>此时事件冒泡到document对象上，当检测事件的target，如果与传入的选择符（这里是selector）匹配，就触发事件，否则不触发。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/学习笔记/">学习笔记</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/计算机基础/">计算机基础</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/">7</a><a class="extend next" rel="next" href="/page/3/">Next &raquo;</a>
    </nav>
  

</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                &copy; 2019 Dexinser
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank">Hexo</a><a href="https://github.com/dexinser" target="_blank">Blog</a> by Dexinser
            </div>
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" >极客到访数: 
                            <span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>, </span>
                
                
                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit">本页阅读量: 
                            <span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>

    </div>
    <script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
<script src="/js/main.js"></script>

    <script>
        $(document).ready(function() {
            var backgroundnum = 4;
            var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
            $("#mobile-nav").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
            $(".left-col").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
        })
    </script>


<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'xxxxx', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->



	<script>
	var _hmt = _hmt || [];
	(function() {
	  var hm = document.createElement("script");
	  hm.src = "//hm.baidu.com/hm.js?xxxxxx";
	  var s = document.getElementsByTagName("script")[0]; 
	  s.parentNode.insertBefore(hm, s);
	})();
	</script>



<div class="scroll" id="scroll">
    <a href="#"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments"><i class="fa fa-comments-o"></i></a>
    <a href="#footer"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    $(document).ready(function() {
        if ($("#comments").length < 1) {
            $("#scroll > a:nth-child(2)").hide();
        };
    })
</script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

  <script language="javascript">
    $(function() {
        $("a[title]").each(function() {
            var a = $(this);
            var title = a.attr('title');
            if (title == undefined || title == "") return;
            a.data('title', title).removeAttr('title').hover(
            function() {
                var offset = a.offset();
                $("<div id=\"anchortitlecontainer\"></div>").appendTo($("body")).html(title).css({
                    top: offset.top - a.outerHeight() - 15,
                    left: offset.left + a.outerWidth()/2 + 1
                }).fadeIn(function() {
                    var pop = $(this);
                    setTimeout(function() {
                        pop.remove();
                    }, pop.text().length * 800);
                });
            }, function() {
                $("#anchortitlecontainer").remove();
            });
        });
    });
</script>


  </div>
</body>
</html>